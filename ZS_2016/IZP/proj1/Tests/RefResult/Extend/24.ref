00000000  20 20 20 20 20 20 20 20  4c 69 6e 75 78 20 6b 65  |        Linux ke|
00000010  72 6e 65 6c 20 72 65 6c  65 61 73 65 20 34 2e 78  |rnel release 4.x|
00000020  20 3c 68 74 74 70 3a 2f  2f 6b 65 72 6e 65 6c 2e  | <http://kernel.|
00000030  6f 72 67 2f 3e 0a 0a 54  68 65 73 65 20 61 72 65  |org/>..These are|
00000040  20 74 68 65 20 72 65 6c  65 61 73 65 20 6e 6f 74  | the release not|
00000050  65 73 20 66 6f 72 20 4c  69 6e 75 78 20 76 65 72  |es for Linux ver|
00000060  73 69 6f 6e 20 34 2e 20  20 52 65 61 64 20 74 68  |sion 4.  Read th|
00000070  65 6d 20 63 61 72 65 66  75 6c 6c 79 2c 0a 61 73  |em carefully,.as|
00000080  20 74 68 65 79 20 74 65  6c 6c 20 79 6f 75 20 77  | they tell you w|
00000090  68 61 74 20 74 68 69 73  20 69 73 20 61 6c 6c 20  |hat this is all |
000000a0  61 62 6f 75 74 2c 20 65  78 70 6c 61 69 6e 20 68  |about, explain h|
000000b0  6f 77 20 74 6f 20 69 6e  73 74 61 6c 6c 20 74 68  |ow to install th|
000000c0  65 0a 6b 65 72 6e 65 6c  2c 20 61 6e 64 20 77 68  |e.kernel, and wh|
000000d0  61 74 20 74 6f 20 64 6f  20 69 66 20 73 6f 6d 65  |at to do if some|
000000e0  74 68 69 6e 67 20 67 6f  65 73 20 77 72 6f 6e 67  |thing goes wrong|
000000f0  2e 0a 0a 57 48 41 54 20  49 53 20 4c 49 4e 55 58  |...WHAT IS LINUX|
00000100  3f 0a 0a 20 20 4c 69 6e  75 78 20 69 73 20 61 20  |?..  Linux is a |
00000110  63 6c 6f 6e 65 20 6f 66  20 74 68 65 20 6f 70 65  |clone of the ope|
00000120  72 61 74 69 6e 67 20 73  79 73 74 65 6d 20 55 6e  |rating system Un|
00000130  69 78 2c 20 77 72 69 74  74 65 6e 20 66 72 6f 6d  |ix, written from|
00000140  20 73 63 72 61 74 63 68  20 62 79 0a 20 20 4c 69  | scratch by.  Li|
00000150  6e 75 73 20 54 6f 72 76  61 6c 64 73 20 77 69 74  |nus Torvalds wit|
00000160  68 20 61 73 73 69 73 74  61 6e 63 65 20 66 72 6f  |h assistance fro|
00000170  6d 20 61 20 6c 6f 6f 73  65 6c 79 2d 6b 6e 69 74  |m a loosely-knit|
00000180  20 74 65 61 6d 20 6f 66  20 68 61 63 6b 65 72 73  | team of hackers|
00000190  20 61 63 72 6f 73 73 0a  20 20 74 68 65 20 4e 65  | across.  the Ne|
000001a0  74 2e 20 49 74 20 61 69  6d 73 20 74 6f 77 61 72  |t. It aims towar|
000001b0  64 73 20 50 4f 53 49 58  20 61 6e 64 20 53 69 6e  |ds POSIX and Sin|
000001c0  67 6c 65 20 55 4e 49 58  20 53 70 65 63 69 66 69  |gle UNIX Specifi|
000001d0  63 61 74 69 6f 6e 20 63  6f 6d 70 6c 69 61 6e 63  |cation complianc|
000001e0  65 2e 0a 0a 20 20 49 74  20 68 61 73 20 61 6c 6c  |e...  It has all|
000001f0  20 74 68 65 20 66 65 61  74 75 72 65 73 20 79 6f  | the features yo|
00000200  75 20 77 6f 75 6c 64 20  65 78 70 65 63 74 20 69  |u would expect i|
00000210  6e 20 61 20 6d 6f 64 65  72 6e 20 66 75 6c 6c 79  |n a modern fully|
00000220  2d 66 6c 65 64 67 65 64  20 55 6e 69 78 2c 0a 20  |-fledged Unix,. |
00000230  20 69 6e 63 6c 75 64 69  6e 67 20 74 72 75 65 20  | including true |
00000240  6d 75 6c 74 69 74 61 73  6b 69 6e 67 2c 20 76 69  |multitasking, vi|
00000250  72 74 75 61 6c 20 6d 65  6d 6f 72 79 2c 20 73 68  |rtual memory, sh|
00000260  61 72 65 64 20 6c 69 62  72 61 72 69 65 73 2c 20  |ared libraries, |
00000270  64 65 6d 61 6e 64 0a 20  20 6c 6f 61 64 69 6e 67  |demand.  loading|
00000280  2c 20 73 68 61 72 65 64  20 63 6f 70 79 2d 6f 6e  |, shared copy-on|
00000290  2d 77 72 69 74 65 20 65  78 65 63 75 74 61 62 6c  |-write executabl|
000002a0  65 73 2c 20 70 72 6f 70  65 72 20 6d 65 6d 6f 72  |es, proper memor|
000002b0  79 20 6d 61 6e 61 67 65  6d 65 6e 74 2c 0a 20 20  |y management,.  |
000002c0  61 6e 64 20 6d 75 6c 74  69 73 74 61 63 6b 20 6e  |and multistack n|
000002d0  65 74 77 6f 72 6b 69 6e  67 20 69 6e 63 6c 75 64  |etworking includ|
000002e0  69 6e 67 20 49 50 76 34  20 61 6e 64 20 49 50 76  |ing IPv4 and IPv|
000002f0  36 2e 0a 0a 20 20 49 74  20 69 73 20 64 69 73 74  |6...  It is dist|
00000300  72 69 62 75 74 65 64 20  75 6e 64 65 72 20 74 68  |ributed under th|
00000310  65 20 47 4e 55 20 47 65  6e 65 72 61 6c 20 50 75  |e GNU General Pu|
00000320  62 6c 69 63 20 4c 69 63  65 6e 73 65 20 2d 20 73  |blic License - s|
00000330  65 65 20 74 68 65 0a 20  20 61 63 63 6f 6d 70 61  |ee the.  accompa|
00000340  6e 79 69 6e 67 20 43 4f  50 59 49 4e 47 20 66 69  |nying COPYING fi|
00000350  6c 65 20 66 6f 72 20 6d  6f 72 65 20 64 65 74 61  |le for more deta|
00000360  69 6c 73 2e 0a 0a 4f 4e  20 57 48 41 54 20 48 41  |ils...ON WHAT HA|
00000370  52 44 57 41 52 45 20 44  4f 45 53 20 49 54 20 52  |RDWARE DOES IT R|
00000380  55 4e 3f 0a 0a 20 20 41  6c 74 68 6f 75 67 68 20  |UN?..  Although |
00000390  6f 72 69 67 69 6e 61 6c  6c 79 20 64 65 76 65 6c  |originally devel|
000003a0  6f 70 65 64 20 66 69 72  73 74 20 66 6f 72 20 33  |oped first for 3|
000003b0  32 2d 62 69 74 20 78 38  36 2d 62 61 73 65 64 20  |2-bit x86-based |
000003c0  50 43 73 20 28 33 38 36  20 6f 72 20 68 69 67 68  |PCs (386 or high|
000003d0  65 72 29 2c 0a 20 20 74  6f 64 61 79 20 4c 69 6e  |er),.  today Lin|
000003e0  75 78 20 61 6c 73 6f 20  72 75 6e 73 20 6f 6e 20  |ux also runs on |
000003f0  28 61 74 20 6c 65 61 73  74 29 20 74 68 65 20 43  |(at least) the C|
00000400  6f 6d 70 61 71 20 41 6c  70 68 61 20 41 58 50 2c  |ompaq Alpha AXP,|
00000410  20 53 75 6e 20 53 50 41  52 43 20 61 6e 64 0a 20  | Sun SPARC and. |
00000420  20 55 6c 74 72 61 53 50  41 52 43 2c 20 4d 6f 74  | UltraSPARC, Mot|
00000430  6f 72 6f 6c 61 20 36 38  30 30 30 2c 20 50 6f 77  |orola 68000, Pow|
00000440  65 72 50 43 2c 20 50 6f  77 65 72 50 43 36 34 2c  |erPC, PowerPC64,|
00000450  20 41 52 4d 2c 20 48 69  74 61 63 68 69 20 53 75  | ARM, Hitachi Su|
00000460  70 65 72 48 2c 20 43 65  6c 6c 2c 0a 20 20 49 42  |perH, Cell,.  IB|
00000470  4d 20 53 2f 33 39 30 2c  20 4d 49 50 53 2c 20 48  |M S/390, MIPS, H|
00000480  50 20 50 41 2d 52 49 53  43 2c 20 49 6e 74 65 6c  |P PA-RISC, Intel|
00000490  20 49 41 2d 36 34 2c 20  44 45 43 20 56 41 58 2c  | IA-64, DEC VAX,|
000004a0  20 41 4d 44 20 78 38 36  2d 36 34 2c 20 41 58 49  | AMD x86-64, AXI|
000004b0  53 20 43 52 49 53 2c 0a  20 20 58 74 65 6e 73 61  |S CRIS,.  Xtensa|
000004c0  2c 20 54 69 6c 65 72 61  20 54 49 4c 45 2c 20 41  |, Tilera TILE, A|
000004d0  56 52 33 32 2c 20 41 52  43 20 61 6e 64 20 52 65  |VR32, ARC and Re|
000004e0  6e 65 73 61 73 20 4d 33  32 52 20 61 72 63 68 69  |nesas M32R archi|
000004f0  74 65 63 74 75 72 65 73  2e 0a 0a 20 20 4c 69 6e  |tectures...  Lin|
00000500  75 78 20 69 73 20 65 61  73 69 6c 79 20 70 6f 72  |ux is easily por|
00000510  74 61 62 6c 65 20 74 6f  20 6d 6f 73 74 20 67 65  |table to most ge|
00000520  6e 65 72 61 6c 2d 70 75  72 70 6f 73 65 20 33 32  |neral-purpose 32|
00000530  2d 20 6f 72 20 36 34 2d  62 69 74 20 61 72 63 68  |- or 64-bit arch|
00000540  69 74 65 63 74 75 72 65  73 0a 20 20 61 73 20 6c  |itectures.  as l|
00000550  6f 6e 67 20 61 73 20 74  68 65 79 20 68 61 76 65  |ong as they have|
00000560  20 61 20 70 61 67 65 64  20 6d 65 6d 6f 72 79 20  | a paged memory |
00000570  6d 61 6e 61 67 65 6d 65  6e 74 20 75 6e 69 74 20  |management unit |
00000580  28 50 4d 4d 55 29 20 61  6e 64 20 61 20 70 6f 72  |(PMMU) and a por|
00000590  74 20 6f 66 20 74 68 65  0a 20 20 47 4e 55 20 43  |t of the.  GNU C|
000005a0  20 63 6f 6d 70 69 6c 65  72 20 28 67 63 63 29 20  | compiler (gcc) |
000005b0  28 70 61 72 74 20 6f 66  20 54 68 65 20 47 4e 55  |(part of The GNU|
000005c0  20 43 6f 6d 70 69 6c 65  72 20 43 6f 6c 6c 65 63  | Compiler Collec|
000005d0  74 69 6f 6e 2c 20 47 43  43 29 2e 20 4c 69 6e 75  |tion, GCC). Linu|
000005e0  78 20 68 61 73 0a 20 20  61 6c 73 6f 20 62 65 65  |x has.  also bee|
000005f0  6e 20 70 6f 72 74 65 64  20 74 6f 20 61 20 6e 75  |n ported to a nu|
00000600  6d 62 65 72 20 6f 66 20  61 72 63 68 69 74 65 63  |mber of architec|
00000610  74 75 72 65 73 20 77 69  74 68 6f 75 74 20 61 20  |tures without a |
00000620  50 4d 4d 55 2c 20 61 6c  74 68 6f 75 67 68 0a 20  |PMMU, although. |
00000630  20 66 75 6e 63 74 69 6f  6e 61 6c 69 74 79 20 69  | functionality i|
00000640  73 20 74 68 65 6e 20 6f  62 76 69 6f 75 73 6c 79  |s then obviously|
00000650  20 73 6f 6d 65 77 68 61  74 20 6c 69 6d 69 74 65  | somewhat limite|
00000660  64 2e 0a 20 20 4c 69 6e  75 78 20 68 61 73 20 61  |d..  Linux has a|
00000670  6c 73 6f 20 62 65 65 6e  20 70 6f 72 74 65 64 20  |lso been ported |
00000680  74 6f 20 69 74 73 65 6c  66 2e 20 59 6f 75 20 63  |to itself. You c|
00000690  61 6e 20 6e 6f 77 20 72  75 6e 20 74 68 65 20 6b  |an now run the k|
000006a0  65 72 6e 65 6c 20 61 73  20 61 0a 20 20 75 73 65  |ernel as a.  use|
000006b0  72 73 70 61 63 65 20 61  70 70 6c 69 63 61 74 69  |rspace applicati|
000006c0  6f 6e 20 2d 20 74 68 69  73 20 69 73 20 63 61 6c  |on - this is cal|
000006d0  6c 65 64 20 55 73 65 72  4d 6f 64 65 20 4c 69 6e  |led UserMode Lin|
000006e0  75 78 20 28 55 4d 4c 29  2e 0a 0a 44 4f 43 55 4d  |ux (UML)...DOCUM|
000006f0  45 4e 54 41 54 49 4f 4e  3a 0a 0a 20 2d 20 54 68  |ENTATION:.. - Th|
00000700  65 72 65 20 69 73 20 61  20 6c 6f 74 20 6f 66 20  |ere is a lot of |
00000710  64 6f 63 75 6d 65 6e 74  61 74 69 6f 6e 20 61 76  |documentation av|
00000720  61 69 6c 61 62 6c 65 20  62 6f 74 68 20 69 6e 20  |ailable both in |
00000730  65 6c 65 63 74 72 6f 6e  69 63 20 66 6f 72 6d 20  |electronic form |
00000740  6f 6e 0a 20 20 20 74 68  65 20 49 6e 74 65 72 6e  |on.   the Intern|
00000750  65 74 20 61 6e 64 20 69  6e 20 62 6f 6f 6b 73 2c  |et and in books,|
00000760  20 62 6f 74 68 20 4c 69  6e 75 78 2d 73 70 65 63  | both Linux-spec|
00000770  69 66 69 63 20 61 6e 64  20 70 65 72 74 61 69 6e  |ific and pertain|
00000780  69 6e 67 20 74 6f 0a 20  20 20 67 65 6e 65 72 61  |ing to.   genera|
00000790  6c 20 55 4e 49 58 20 71  75 65 73 74 69 6f 6e 73  |l UNIX questions|
000007a0  2e 20 20 49 27 64 20 72  65 63 6f 6d 6d 65 6e 64  |.  I'd recommend|
000007b0  20 6c 6f 6f 6b 69 6e 67  20 69 6e 74 6f 20 74 68  | looking into th|
000007c0  65 20 64 6f 63 75 6d 65  6e 74 61 74 69 6f 6e 0a  |e documentation.|
000007d0  20 20 20 73 75 62 64 69  72 65 63 74 6f 72 69 65  |   subdirectorie|
000007e0  73 20 6f 6e 20 61 6e 79  20 4c 69 6e 75 78 20 46  |s on any Linux F|
000007f0  54 50 20 73 69 74 65 20  66 6f 72 20 74 68 65 20  |TP site for the |
00000800  4c 44 50 20 28 4c 69 6e  75 78 20 44 6f 63 75 6d  |LDP (Linux Docum|
00000810  65 6e 74 61 74 69 6f 6e  0a 20 20 20 50 72 6f 6a  |entation.   Proj|
00000820  65 63 74 29 20 62 6f 6f  6b 73 2e 20 20 54 68 69  |ect) books.  Thi|
00000830  73 20 52 45 41 44 4d 45  20 69 73 20 6e 6f 74 20  |s README is not |
00000840  6d 65 61 6e 74 20 74 6f  20 62 65 20 64 6f 63 75  |meant to be docu|
00000850  6d 65 6e 74 61 74 69 6f  6e 20 6f 6e 20 74 68 65  |mentation on the|
00000860  0a 20 20 20 73 79 73 74  65 6d 3a 20 74 68 65 72  |.   system: ther|
00000870  65 20 61 72 65 20 6d 75  63 68 20 62 65 74 74 65  |e are much bette|
00000880  72 20 73 6f 75 72 63 65  73 20 61 76 61 69 6c 61  |r sources availa|
00000890  62 6c 65 2e 0a 0a 20 2d  20 54 68 65 72 65 20 61  |ble... - There a|
000008a0  72 65 20 76 61 72 69 6f  75 73 20 52 45 41 44 4d  |re various READM|
000008b0  45 20 66 69 6c 65 73 20  69 6e 20 74 68 65 20 44  |E files in the D|
000008c0  6f 63 75 6d 65 6e 74 61  74 69 6f 6e 2f 20 73 75  |ocumentation/ su|
000008d0  62 64 69 72 65 63 74 6f  72 79 3a 0a 20 20 20 74  |bdirectory:.   t|
000008e0  68 65 73 65 20 74 79 70  69 63 61 6c 6c 79 20 63  |hese typically c|
000008f0  6f 6e 74 61 69 6e 20 6b  65 72 6e 65 6c 2d 73 70  |ontain kernel-sp|
00000900  65 63 69 66 69 63 20 69  6e 73 74 61 6c 6c 61 74  |ecific installat|
00000910  69 6f 6e 20 6e 6f 74 65  73 20 66 6f 72 20 73 6f  |ion notes for so|
00000920  6d 65 0a 20 20 20 64 72  69 76 65 72 73 20 66 6f  |me.   drivers fo|
00000930  72 20 65 78 61 6d 70 6c  65 2e 20 53 65 65 20 44  |r example. See D|
00000940  6f 63 75 6d 65 6e 74 61  74 69 6f 6e 2f 30 30 2d  |ocumentation/00-|
00000950  49 4e 44 45 58 20 66 6f  72 20 61 20 6c 69 73 74  |INDEX for a list|
00000960  20 6f 66 20 77 68 61 74  0a 20 20 20 69 73 20 63  | of what.   is c|
00000970  6f 6e 74 61 69 6e 65 64  20 69 6e 20 65 61 63 68  |ontained in each|
00000980  20 66 69 6c 65 2e 20 20  50 6c 65 61 73 65 20 72  | file.  Please r|
00000990  65 61 64 20 74 68 65 20  43 68 61 6e 67 65 73 20  |ead the Changes |
000009a0  66 69 6c 65 2c 20 61 73  20 69 74 0a 20 20 20 63  |file, as it.   c|
000009b0  6f 6e 74 61 69 6e 73 20  69 6e 66 6f 72 6d 61 74  |ontains informat|
000009c0  69 6f 6e 20 61 62 6f 75  74 20 74 68 65 20 70 72  |ion about the pr|
000009d0  6f 62 6c 65 6d 73 2c 20  77 68 69 63 68 20 6d 61  |oblems, which ma|
000009e0  79 20 72 65 73 75 6c 74  20 62 79 20 75 70 67 72  |y result by upgr|
000009f0  61 64 69 6e 67 0a 20 20  20 79 6f 75 72 20 6b 65  |ading.   your ke|
00000a00  72 6e 65 6c 2e 0a 0a 20  2d 20 54 68 65 20 44 6f  |rnel... - The Do|
00000a10  63 75 6d 65 6e 74 61 74  69 6f 6e 2f 44 6f 63 42  |cumentation/DocB|
00000a20  6f 6f 6b 2f 20 73 75 62  64 69 72 65 63 74 6f 72  |ook/ subdirector|
00000a30  79 20 63 6f 6e 74 61 69  6e 73 20 73 65 76 65 72  |y contains sever|
00000a40  61 6c 20 67 75 69 64 65  73 20 66 6f 72 0a 20 20  |al guides for.  |
00000a50  20 6b 65 72 6e 65 6c 20  64 65 76 65 6c 6f 70 65  | kernel develope|
00000a60  72 73 20 61 6e 64 20 75  73 65 72 73 2e 20 20 54  |rs and users.  T|
00000a70  68 65 73 65 20 67 75 69  64 65 73 20 63 61 6e 20  |hese guides can |
00000a80  62 65 20 72 65 6e 64 65  72 65 64 20 69 6e 20 61  |be rendered in a|
00000a90  0a 20 20 20 6e 75 6d 62  65 72 20 6f 66 20 66 6f  |.   number of fo|
00000aa0  72 6d 61 74 73 3a 20 20  50 6f 73 74 53 63 72 69  |rmats:  PostScri|
00000ab0  70 74 20 28 2e 70 73 29  2c 20 50 44 46 2c 20 48  |pt (.ps), PDF, H|
00000ac0  54 4d 4c 2c 20 26 20 6d  61 6e 2d 70 61 67 65 73  |TML, & man-pages|
00000ad0  2c 20 61 6d 6f 6e 67 20  6f 74 68 65 72 73 2e 0a  |, among others..|
00000ae0  20 20 20 41 66 74 65 72  20 69 6e 73 74 61 6c 6c  |   After install|
00000af0  61 74 69 6f 6e 2c 20 22  6d 61 6b 65 20 70 73 64  |ation, "make psd|
00000b00  6f 63 73 22 2c 20 22 6d  61 6b 65 20 70 64 66 64  |ocs", "make pdfd|
00000b10  6f 63 73 22 2c 20 22 6d  61 6b 65 20 68 74 6d 6c  |ocs", "make html|
00000b20  64 6f 63 73 22 2c 0a 20  20 20 6f 72 20 22 6d 61  |docs",.   or "ma|
00000b30  6b 65 20 6d 61 6e 64 6f  63 73 22 20 77 69 6c 6c  |ke mandocs" will|
00000b40  20 72 65 6e 64 65 72 20  74 68 65 20 64 6f 63 75  | render the docu|
00000b50  6d 65 6e 74 61 74 69 6f  6e 20 69 6e 20 74 68 65  |mentation in the|
00000b60  20 72 65 71 75 65 73 74  65 64 20 66 6f 72 6d 61  | requested forma|
00000b70  74 2e 0a 0a 49 4e 53 54  41 4c 4c 49 4e 47 20 74  |t...INSTALLING t|
00000b80  68 65 20 6b 65 72 6e 65  6c 20 73 6f 75 72 63 65  |he kernel source|
00000b90  3a 0a 0a 20 2d 20 49 66  20 79 6f 75 20 69 6e 73  |:.. - If you ins|
00000ba0  74 61 6c 6c 20 74 68 65  20 66 75 6c 6c 20 73 6f  |tall the full so|
00000bb0  75 72 63 65 73 2c 20 70  75 74 20 74 68 65 20 6b  |urces, put the k|
00000bc0  65 72 6e 65 6c 20 74 61  72 62 61 6c 6c 20 69 6e  |ernel tarball in|
00000bd0  20 61 0a 20 20 20 64 69  72 65 63 74 6f 72 79 20  | a.   directory |
00000be0  77 68 65 72 65 20 79 6f  75 20 68 61 76 65 20 70  |where you have p|
00000bf0  65 72 6d 69 73 73 69 6f  6e 73 20 28 65 2e 67 2e  |ermissions (e.g.|
00000c00  20 79 6f 75 72 20 68 6f  6d 65 20 64 69 72 65 63  | your home direc|
00000c10  74 6f 72 79 29 20 61 6e  64 0a 20 20 20 75 6e 70  |tory) and.   unp|
00000c20  61 63 6b 20 69 74 3a 0a  0a 20 20 20 20 20 78 7a  |ack it:..     xz|
00000c30  20 2d 63 64 20 6c 69 6e  75 78 2d 34 2e 58 2e 74  | -cd linux-4.X.t|
00000c40  61 72 2e 78 7a 20 7c 20  74 61 72 20 78 76 66 20  |ar.xz | tar xvf |
00000c50  2d 0a 0a 20 20 20 52 65  70 6c 61 63 65 20 22 58  |-..   Replace "X|
00000c60  22 20 77 69 74 68 20 74  68 65 20 76 65 72 73 69  |" with the versi|
00000c70  6f 6e 20 6e 75 6d 62 65  72 20 6f 66 20 74 68 65  |on number of the|
00000c80  20 6c 61 74 65 73 74 20  6b 65 72 6e 65 6c 2e 0a  | latest kernel..|
00000c90  0a 20 20 20 44 6f 20 4e  4f 54 20 75 73 65 20 74  |.   Do NOT use t|
00000ca0  68 65 20 2f 75 73 72 2f  73 72 63 2f 6c 69 6e 75  |he /usr/src/linu|
00000cb0  78 20 61 72 65 61 21 20  54 68 69 73 20 61 72 65  |x area! This are|
00000cc0  61 20 68 61 73 20 61 20  28 75 73 75 61 6c 6c 79  |a has a (usually|
00000cd0  0a 20 20 20 69 6e 63 6f  6d 70 6c 65 74 65 29 20  |.   incomplete) |
00000ce0  73 65 74 20 6f 66 20 6b  65 72 6e 65 6c 20 68 65  |set of kernel he|
00000cf0  61 64 65 72 73 20 74 68  61 74 20 61 72 65 20 75  |aders that are u|
00000d00  73 65 64 20 62 79 20 74  68 65 20 6c 69 62 72 61  |sed by the libra|
00000d10  72 79 20 68 65 61 64 65  72 0a 20 20 20 66 69 6c  |ry header.   fil|
00000d20  65 73 2e 20 20 54 68 65  79 20 73 68 6f 75 6c 64  |es.  They should|
00000d30  20 6d 61 74 63 68 20 74  68 65 20 6c 69 62 72 61  | match the libra|
00000d40  72 79 2c 20 61 6e 64 20  6e 6f 74 20 67 65 74 20  |ry, and not get |
00000d50  6d 65 73 73 65 64 20 75  70 20 62 79 0a 20 20 20  |messed up by.   |
00000d60  77 68 61 74 65 76 65 72  20 74 68 65 20 6b 65 72  |whatever the ker|
00000d70  6e 65 6c 2d 64 75 2d 6a  6f 75 72 20 68 61 70 70  |nel-du-jour happ|
00000d80  65 6e 73 20 74 6f 20 62  65 2e 0a 0a 20 2d 20 59  |ens to be... - Y|
00000d90  6f 75 20 63 61 6e 20 61  6c 73 6f 20 75 70 67 72  |ou can also upgr|
00000da0  61 64 65 20 62 65 74 77  65 65 6e 20 34 2e 78 20  |ade between 4.x |
00000db0  72 65 6c 65 61 73 65 73  20 62 79 20 70 61 74 63  |releases by patc|
00000dc0  68 69 6e 67 2e 20 20 50  61 74 63 68 65 73 20 61  |hing.  Patches a|
00000dd0  72 65 0a 20 20 20 64 69  73 74 72 69 62 75 74 65  |re.   distribute|
00000de0  64 20 69 6e 20 74 68 65  20 78 7a 20 66 6f 72 6d  |d in the xz form|
00000df0  61 74 2e 20 20 54 6f 20  69 6e 73 74 61 6c 6c 20  |at.  To install |
00000e00  62 79 20 70 61 74 63 68  69 6e 67 2c 20 67 65 74  |by patching, get|
00000e10  20 61 6c 6c 20 74 68 65  0a 20 20 20 6e 65 77 65  | all the.   newe|
00000e20  72 20 70 61 74 63 68 20  66 69 6c 65 73 2c 20 65  |r patch files, e|
00000e30  6e 74 65 72 20 74 68 65  20 74 6f 70 20 6c 65 76  |nter the top lev|
00000e40  65 6c 20 64 69 72 65 63  74 6f 72 79 20 6f 66 20  |el directory of |
00000e50  74 68 65 20 6b 65 72 6e  65 6c 20 73 6f 75 72 63  |the kernel sourc|
00000e60  65 0a 20 20 20 28 6c 69  6e 75 78 2d 34 2e 58 29  |e.   (linux-4.X)|
00000e70  20 61 6e 64 20 65 78 65  63 75 74 65 3a 0a 0a 20  | and execute:.. |
00000e80  20 20 20 20 78 7a 20 2d  63 64 20 2e 2e 2f 70 61  |    xz -cd ../pa|
00000e90  74 63 68 2d 34 2e 78 2e  78 7a 20 7c 20 70 61 74  |tch-4.x.xz | pat|
00000ea0  63 68 20 2d 70 31 0a 0a  20 20 20 52 65 70 6c 61  |ch -p1..   Repla|
00000eb0  63 65 20 22 78 22 20 66  6f 72 20 61 6c 6c 20 76  |ce "x" for all v|
00000ec0  65 72 73 69 6f 6e 73 20  62 69 67 67 65 72 20 74  |ersions bigger t|
00000ed0  68 61 6e 20 74 68 65 20  76 65 72 73 69 6f 6e 20  |han the version |
00000ee0  22 58 22 20 6f 66 20 79  6f 75 72 20 63 75 72 72  |"X" of your curr|
00000ef0  65 6e 74 0a 20 20 20 73  6f 75 72 63 65 20 74 72  |ent.   source tr|
00000f00  65 65 2c 20 5f 69 6e 5f  6f 72 64 65 72 5f 2c 20  |ee, _in_order_, |
00000f10  61 6e 64 20 79 6f 75 20  73 68 6f 75 6c 64 20 62  |and you should b|
00000f20  65 20 6f 6b 2e 20 20 59  6f 75 20 6d 61 79 20 77  |e ok.  You may w|
00000f30  61 6e 74 20 74 6f 20 72  65 6d 6f 76 65 0a 20 20  |ant to remove.  |
00000f40  20 74 68 65 20 62 61 63  6b 75 70 20 66 69 6c 65  | the backup file|
00000f50  73 20 28 73 6f 6d 65 2d  66 69 6c 65 2d 6e 61 6d  |s (some-file-nam|
00000f60  65 7e 20 6f 72 20 73 6f  6d 65 2d 66 69 6c 65 2d  |e~ or some-file-|
00000f70  6e 61 6d 65 2e 6f 72 69  67 29 2c 20 61 6e 64 20  |name.orig), and |
00000f80  6d 61 6b 65 20 73 75 72  65 0a 20 20 20 74 68 61  |make sure.   tha|
00000f90  74 20 74 68 65 72 65 20  61 72 65 20 6e 6f 20 66  |t there are no f|
00000fa0  61 69 6c 65 64 20 70 61  74 63 68 65 73 20 28 73  |ailed patches (s|
00000fb0  6f 6d 65 2d 66 69 6c 65  2d 6e 61 6d 65 23 20 6f  |ome-file-name# o|
00000fc0  72 20 73 6f 6d 65 2d 66  69 6c 65 2d 6e 61 6d 65  |r some-file-name|
00000fd0  2e 72 65 6a 29 2e 0a 20  20 20 49 66 20 74 68 65  |.rej)..   If the|
00000fe0  72 65 20 61 72 65 2c 20  65 69 74 68 65 72 20 79  |re are, either y|
00000ff0  6f 75 20 6f 72 20 49 20  68 61 76 65 20 6d 61 64  |ou or I have mad|
00001000  65 20 61 20 6d 69 73 74  61 6b 65 2e 0a 0a 20 20  |e a mistake...  |
00001010  20 55 6e 6c 69 6b 65 20  70 61 74 63 68 65 73 20  | Unlike patches |
00001020  66 6f 72 20 74 68 65 20  34 2e 78 20 6b 65 72 6e  |for the 4.x kern|
00001030  65 6c 73 2c 20 70 61 74  63 68 65 73 20 66 6f 72  |els, patches for|
00001040  20 74 68 65 20 34 2e 78  2e 79 20 6b 65 72 6e 65  | the 4.x.y kerne|
00001050  6c 73 0a 20 20 20 28 61  6c 73 6f 20 6b 6e 6f 77  |ls.   (also know|
00001060  6e 20 61 73 20 74 68 65  20 2d 73 74 61 62 6c 65  |n as the -stable|
00001070  20 6b 65 72 6e 65 6c 73  29 20 61 72 65 20 6e 6f  | kernels) are no|
00001080  74 20 69 6e 63 72 65 6d  65 6e 74 61 6c 20 62 75  |t incremental bu|
00001090  74 20 69 6e 73 74 65 61  64 20 61 70 70 6c 79 0a  |t instead apply.|
000010a0  20 20 20 64 69 72 65 63  74 6c 79 20 74 6f 20 74  |   directly to t|
000010b0  68 65 20 62 61 73 65 20  34 2e 78 20 6b 65 72 6e  |he base 4.x kern|
000010c0  65 6c 2e 20 20 46 6f 72  20 65 78 61 6d 70 6c 65  |el.  For example|
000010d0  2c 20 69 66 20 79 6f 75  72 20 62 61 73 65 20 6b  |, if your base k|
000010e0  65 72 6e 65 6c 20 69 73  20 34 2e 30 0a 20 20 20  |ernel is 4.0.   |
000010f0  61 6e 64 20 79 6f 75 20  77 61 6e 74 20 74 6f 20  |and you want to |
00001100  61 70 70 6c 79 20 74 68  65 20 34 2e 30 2e 33 20  |apply the 4.0.3 |
00001110  70 61 74 63 68 2c 20 79  6f 75 20 6d 75 73 74 20  |patch, you must |
00001120  6e 6f 74 20 66 69 72 73  74 20 61 70 70 6c 79 20  |not first apply |
00001130  74 68 65 20 34 2e 30 2e  31 0a 20 20 20 61 6e 64  |the 4.0.1.   and|
00001140  20 34 2e 30 2e 32 20 70  61 74 63 68 65 73 2e 20  | 4.0.2 patches. |
00001150  53 69 6d 69 6c 61 72 6c  79 2c 20 69 66 20 79 6f  |Similarly, if yo|
00001160  75 20 61 72 65 20 72 75  6e 6e 69 6e 67 20 6b 65  |u are running ke|
00001170  72 6e 65 6c 20 76 65 72  73 69 6f 6e 20 34 2e 30  |rnel version 4.0|
00001180  2e 32 20 61 6e 64 0a 20  20 20 77 61 6e 74 20 74  |.2 and.   want t|
00001190  6f 20 6a 75 6d 70 20 74  6f 20 34 2e 30 2e 33 2c  |o jump to 4.0.3,|
000011a0  20 79 6f 75 20 6d 75 73  74 20 66 69 72 73 74 20  | you must first |
000011b0  72 65 76 65 72 73 65 20  74 68 65 20 34 2e 30 2e  |reverse the 4.0.|
000011c0  32 20 70 61 74 63 68 20  28 74 68 61 74 20 69 73  |2 patch (that is|
000011d0  2c 0a 20 20 20 70 61 74  63 68 20 2d 52 29 20 5f  |,.   patch -R) _|
000011e0  62 65 66 6f 72 65 5f 20  61 70 70 6c 79 69 6e 67  |before_ applying|
000011f0  20 74 68 65 20 34 2e 30  2e 33 20 70 61 74 63 68  | the 4.0.3 patch|
00001200  2e 20 59 6f 75 20 63 61  6e 20 72 65 61 64 20 6d  |. You can read m|
00001210  6f 72 65 20 6f 6e 20 74  68 69 73 20 69 6e 0a 20  |ore on this in. |
00001220  20 20 44 6f 63 75 6d 65  6e 74 61 74 69 6f 6e 2f  |  Documentation/|
00001230  61 70 70 6c 79 69 6e 67  2d 70 61 74 63 68 65 73  |applying-patches|
00001240  2e 74 78 74 0a 0a 20 20  20 41 6c 74 65 72 6e 61  |.txt..   Alterna|
00001250  74 69 76 65 6c 79 2c 20  74 68 65 20 73 63 72 69  |tively, the scri|
00001260  70 74 20 70 61 74 63 68  2d 6b 65 72 6e 65 6c 20  |pt patch-kernel |
00001270  63 61 6e 20 62 65 20 75  73 65 64 20 74 6f 20 61  |can be used to a|
00001280  75 74 6f 6d 61 74 65 20  74 68 69 73 0a 20 20 20  |utomate this.   |
00001290  70 72 6f 63 65 73 73 2e  20 20 49 74 20 64 65 74  |process.  It det|
000012a0  65 72 6d 69 6e 65 73 20  74 68 65 20 63 75 72 72  |ermines the curr|
000012b0  65 6e 74 20 6b 65 72 6e  65 6c 20 76 65 72 73 69  |ent kernel versi|
000012c0  6f 6e 20 61 6e 64 20 61  70 70 6c 69 65 73 20 61  |on and applies a|
000012d0  6e 79 0a 20 20 20 70 61  74 63 68 65 73 20 66 6f  |ny.   patches fo|
000012e0  75 6e 64 2e 0a 0a 20 20  20 20 20 6c 69 6e 75 78  |und...     linux|
000012f0  2f 73 63 72 69 70 74 73  2f 70 61 74 63 68 2d 6b  |/scripts/patch-k|
00001300  65 72 6e 65 6c 20 6c 69  6e 75 78 0a 0a 20 20 20  |ernel linux..   |
00001310  54 68 65 20 66 69 72 73  74 20 61 72 67 75 6d 65  |The first argume|
00001320  6e 74 20 69 6e 20 74 68  65 20 63 6f 6d 6d 61 6e  |nt in the comman|
00001330  64 20 61 62 6f 76 65 20  69 73 20 74 68 65 20 6c  |d above is the l|
00001340  6f 63 61 74 69 6f 6e 20  6f 66 20 74 68 65 0a 20  |ocation of the. |
00001350  20 20 6b 65 72 6e 65 6c  20 73 6f 75 72 63 65 2e  |  kernel source.|
00001360  20 20 50 61 74 63 68 65  73 20 61 72 65 20 61 70  |  Patches are ap|
00001370  70 6c 69 65 64 20 66 72  6f 6d 20 74 68 65 20 63  |plied from the c|
00001380  75 72 72 65 6e 74 20 64  69 72 65 63 74 6f 72 79  |urrent directory|
00001390  2c 20 62 75 74 0a 20 20  20 61 6e 20 61 6c 74 65  |, but.   an alte|
000013a0  72 6e 61 74 69 76 65 20  64 69 72 65 63 74 6f 72  |rnative director|
000013b0  79 20 63 61 6e 20 62 65  20 73 70 65 63 69 66 69  |y can be specifi|
000013c0  65 64 20 61 73 20 74 68  65 20 73 65 63 6f 6e 64  |ed as the second|
000013d0  20 61 72 67 75 6d 65 6e  74 2e 0a 0a 20 2d 20 4d  | argument... - M|
000013e0  61 6b 65 20 73 75 72 65  20 79 6f 75 20 68 61 76  |ake sure you hav|
000013f0  65 20 6e 6f 20 73 74 61  6c 65 20 2e 6f 20 66 69  |e no stale .o fi|
00001400  6c 65 73 20 61 6e 64 20  64 65 70 65 6e 64 65 6e  |les and dependen|
00001410  63 69 65 73 20 6c 79 69  6e 67 20 61 72 6f 75 6e  |cies lying aroun|
00001420  64 3a 0a 0a 20 20 20 20  20 63 64 20 6c 69 6e 75  |d:..     cd linu|
00001430  78 0a 20 20 20 20 20 6d  61 6b 65 20 6d 72 70 72  |x.     make mrpr|
00001440  6f 70 65 72 0a 0a 20 20  20 59 6f 75 20 73 68 6f  |oper..   You sho|
00001450  75 6c 64 20 6e 6f 77 20  68 61 76 65 20 74 68 65  |uld now have the|
00001460  20 73 6f 75 72 63 65 73  20 63 6f 72 72 65 63 74  | sources correct|
00001470  6c 79 20 69 6e 73 74 61  6c 6c 65 64 2e 0a 0a 53  |ly installed...S|
00001480  4f 46 54 57 41 52 45 20  52 45 51 55 49 52 45 4d  |OFTWARE REQUIREM|
00001490  45 4e 54 53 0a 0a 20 20  20 43 6f 6d 70 69 6c 69  |ENTS..   Compili|
000014a0  6e 67 20 61 6e 64 20 72  75 6e 6e 69 6e 67 20 74  |ng and running t|
000014b0  68 65 20 34 2e 78 20 6b  65 72 6e 65 6c 73 20 72  |he 4.x kernels r|
000014c0  65 71 75 69 72 65 73 20  75 70 2d 74 6f 2d 64 61  |equires up-to-da|
000014d0  74 65 0a 20 20 20 76 65  72 73 69 6f 6e 73 20 6f  |te.   versions o|
000014e0  66 20 76 61 72 69 6f 75  73 20 73 6f 66 74 77 61  |f various softwa|
000014f0  72 65 20 70 61 63 6b 61  67 65 73 2e 20 20 43 6f  |re packages.  Co|
00001500  6e 73 75 6c 74 0a 20 20  20 44 6f 63 75 6d 65 6e  |nsult.   Documen|
00001510  74 61 74 69 6f 6e 2f 43  68 61 6e 67 65 73 20 66  |tation/Changes f|
00001520  6f 72 20 74 68 65 20 6d  69 6e 69 6d 75 6d 20 76  |or the minimum v|
00001530  65 72 73 69 6f 6e 20 6e  75 6d 62 65 72 73 20 72  |ersion numbers r|
00001540  65 71 75 69 72 65 64 0a  20 20 20 61 6e 64 20 68  |equired.   and h|
00001550  6f 77 20 74 6f 20 67 65  74 20 75 70 64 61 74 65  |ow to get update|
00001560  73 20 66 6f 72 20 74 68  65 73 65 20 70 61 63 6b  |s for these pack|
00001570  61 67 65 73 2e 20 20 42  65 77 61 72 65 20 74 68  |ages.  Beware th|
00001580  61 74 20 75 73 69 6e 67  0a 20 20 20 65 78 63 65  |at using.   exce|
00001590  73 73 69 76 65 6c 79 20  6f 6c 64 20 76 65 72 73  |ssively old vers|
000015a0  69 6f 6e 73 20 6f 66 20  74 68 65 73 65 20 70 61  |ions of these pa|
000015b0  63 6b 61 67 65 73 20 63  61 6e 20 63 61 75 73 65  |ckages can cause|
000015c0  20 69 6e 64 69 72 65 63  74 0a 20 20 20 65 72 72  | indirect.   err|
000015d0  6f 72 73 20 74 68 61 74  20 61 72 65 20 76 65 72  |ors that are ver|
000015e0  79 20 64 69 66 66 69 63  75 6c 74 20 74 6f 20 74  |y difficult to t|
000015f0  72 61 63 6b 20 64 6f 77  6e 2c 20 73 6f 20 64 6f  |rack down, so do|
00001600  6e 27 74 20 61 73 73 75  6d 65 20 74 68 61 74 0a  |n't assume that.|
00001610  20 20 20 79 6f 75 20 63  61 6e 20 6a 75 73 74 20  |   you can just |
00001620  75 70 64 61 74 65 20 70  61 63 6b 61 67 65 73 20  |update packages |
00001630  77 68 65 6e 20 6f 62 76  69 6f 75 73 20 70 72 6f  |when obvious pro|
00001640  62 6c 65 6d 73 20 61 72  69 73 65 20 64 75 72 69  |blems arise duri|
00001650  6e 67 0a 20 20 20 62 75  69 6c 64 20 6f 72 20 6f  |ng.   build or o|
00001660  70 65 72 61 74 69 6f 6e  2e 0a 0a 42 55 49 4c 44  |peration...BUILD|
00001670  20 64 69 72 65 63 74 6f  72 79 20 66 6f 72 20 74  | directory for t|
00001680  68 65 20 6b 65 72 6e 65  6c 3a 0a 0a 20 20 20 57  |he kernel:..   W|
00001690  68 65 6e 20 63 6f 6d 70  69 6c 69 6e 67 20 74 68  |hen compiling th|
000016a0  65 20 6b 65 72 6e 65 6c  2c 20 61 6c 6c 20 6f 75  |e kernel, all ou|
000016b0  74 70 75 74 20 66 69 6c  65 73 20 77 69 6c 6c 20  |tput files will |
000016c0  70 65 72 20 64 65 66 61  75 6c 74 20 62 65 0a 20  |per default be. |
000016d0  20 20 73 74 6f 72 65 64  20 74 6f 67 65 74 68 65  |  stored togethe|
000016e0  72 20 77 69 74 68 20 74  68 65 20 6b 65 72 6e 65  |r with the kerne|
000016f0  6c 20 73 6f 75 72 63 65  20 63 6f 64 65 2e 0a 20  |l source code.. |
00001700  20 20 55 73 69 6e 67 20  74 68 65 20 6f 70 74 69  |  Using the opti|
00001710  6f 6e 20 22 6d 61 6b 65  20 4f 3d 6f 75 74 70 75  |on "make O=outpu|
00001720  74 2f 64 69 72 22 20 61  6c 6c 6f 77 73 20 79 6f  |t/dir" allows yo|
00001730  75 20 74 6f 20 73 70 65  63 69 66 79 20 61 6e 20  |u to specify an |
00001740  61 6c 74 65 72 6e 61 74  65 0a 20 20 20 70 6c 61  |alternate.   pla|
00001750  63 65 20 66 6f 72 20 74  68 65 20 6f 75 74 70 75  |ce for the outpu|
00001760  74 20 66 69 6c 65 73 20  28 69 6e 63 6c 75 64 69  |t files (includi|
00001770  6e 67 20 2e 63 6f 6e 66  69 67 29 2e 0a 20 20 20  |ng .config)..   |
00001780  45 78 61 6d 70 6c 65 3a  0a 0a 20 20 20 20 20 6b  |Example:..     k|
00001790  65 72 6e 65 6c 20 73 6f  75 72 63 65 20 63 6f 64  |ernel source cod|
000017a0  65 3a 20 2f 75 73 72 2f  73 72 63 2f 6c 69 6e 75  |e: /usr/src/linu|
000017b0  78 2d 34 2e 58 0a 20 20  20 20 20 62 75 69 6c 64  |x-4.X.     build|
000017c0  20 64 69 72 65 63 74 6f  72 79 3a 20 20 20 20 2f  | directory:    /|
000017d0  68 6f 6d 65 2f 6e 61 6d  65 2f 62 75 69 6c 64 2f  |home/name/build/|
000017e0  6b 65 72 6e 65 6c 0a 0a  20 20 20 54 6f 20 63 6f  |kernel..   To co|
000017f0  6e 66 69 67 75 72 65 20  61 6e 64 20 62 75 69 6c  |nfigure and buil|
00001800  64 20 74 68 65 20 6b 65  72 6e 65 6c 2c 20 75 73  |d the kernel, us|
00001810  65 3a 0a 0a 20 20 20 20  20 63 64 20 2f 75 73 72  |e:..     cd /usr|
00001820  2f 73 72 63 2f 6c 69 6e  75 78 2d 34 2e 58 0a 20  |/src/linux-4.X. |
00001830  20 20 20 20 6d 61 6b 65  20 4f 3d 2f 68 6f 6d 65  |    make O=/home|
00001840  2f 6e 61 6d 65 2f 62 75  69 6c 64 2f 6b 65 72 6e  |/name/build/kern|
00001850  65 6c 20 6d 65 6e 75 63  6f 6e 66 69 67 0a 20 20  |el menuconfig.  |
00001860  20 20 20 6d 61 6b 65 20  4f 3d 2f 68 6f 6d 65 2f  |   make O=/home/|
00001870  6e 61 6d 65 2f 62 75 69  6c 64 2f 6b 65 72 6e 65  |name/build/kerne|
00001880  6c 0a 20 20 20 20 20 73  75 64 6f 20 6d 61 6b 65  |l.     sudo make|
00001890  20 4f 3d 2f 68 6f 6d 65  2f 6e 61 6d 65 2f 62 75  | O=/home/name/bu|
000018a0  69 6c 64 2f 6b 65 72 6e  65 6c 20 6d 6f 64 75 6c  |ild/kernel modul|
000018b0  65 73 5f 69 6e 73 74 61  6c 6c 20 69 6e 73 74 61  |es_install insta|
000018c0  6c 6c 0a 0a 20 20 20 50  6c 65 61 73 65 20 6e 6f  |ll..   Please no|
000018d0  74 65 3a 20 49 66 20 74  68 65 20 27 4f 3d 6f 75  |te: If the 'O=ou|
000018e0  74 70 75 74 2f 64 69 72  27 20 6f 70 74 69 6f 6e  |tput/dir' option|
000018f0  20 69 73 20 75 73 65 64  2c 20 74 68 65 6e 20 69  | is used, then i|
00001900  74 20 6d 75 73 74 20 62  65 0a 20 20 20 75 73 65  |t must be.   use|
00001910  64 20 66 6f 72 20 61 6c  6c 20 69 6e 76 6f 63 61  |d for all invoca|
00001920  74 69 6f 6e 73 20 6f 66  20 6d 61 6b 65 2e 0a 0a  |tions of make...|
00001930  43 4f 4e 46 49 47 55 52  49 4e 47 20 74 68 65 20  |CONFIGURING the |
00001940  6b 65 72 6e 65 6c 3a 0a  0a 20 20 20 44 6f 20 6e  |kernel:..   Do n|
00001950  6f 74 20 73 6b 69 70 20  74 68 69 73 20 73 74 65  |ot skip this ste|
00001960  70 20 65 76 65 6e 20 69  66 20 79 6f 75 20 61 72  |p even if you ar|
00001970  65 20 6f 6e 6c 79 20 75  70 67 72 61 64 69 6e 67  |e only upgrading|
00001980  20 6f 6e 65 20 6d 69 6e  6f 72 0a 20 20 20 76 65  | one minor.   ve|
00001990  72 73 69 6f 6e 2e 20 20  4e 65 77 20 63 6f 6e 66  |rsion.  New conf|
000019a0  69 67 75 72 61 74 69 6f  6e 20 6f 70 74 69 6f 6e  |iguration option|
000019b0  73 20 61 72 65 20 61 64  64 65 64 20 69 6e 20 65  |s are added in e|
000019c0  61 63 68 20 72 65 6c 65  61 73 65 2c 20 61 6e 64  |ach release, and|
000019d0  0a 20 20 20 6f 64 64 20  70 72 6f 62 6c 65 6d 73  |.   odd problems|
000019e0  20 77 69 6c 6c 20 74 75  72 6e 20 75 70 20 69 66  | will turn up if|
000019f0  20 74 68 65 20 63 6f 6e  66 69 67 75 72 61 74 69  | the configurati|
00001a00  6f 6e 20 66 69 6c 65 73  20 61 72 65 20 6e 6f 74  |on files are not|
00001a10  20 73 65 74 20 75 70 0a  20 20 20 61 73 20 65 78  | set up.   as ex|
00001a20  70 65 63 74 65 64 2e 20  20 49 66 20 79 6f 75 20  |pected.  If you |
00001a30  77 61 6e 74 20 74 6f 20  63 61 72 72 79 20 79 6f  |want to carry yo|
00001a40  75 72 20 65 78 69 73 74  69 6e 67 20 63 6f 6e 66  |ur existing conf|
00001a50  69 67 75 72 61 74 69 6f  6e 20 74 6f 20 61 0a 20  |iguration to a. |
00001a60  20 20 6e 65 77 20 76 65  72 73 69 6f 6e 20 77 69  |  new version wi|
00001a70  74 68 20 6d 69 6e 69 6d  61 6c 20 77 6f 72 6b 2c  |th minimal work,|
00001a80  20 75 73 65 20 22 6d 61  6b 65 20 6f 6c 64 63 6f  | use "make oldco|
00001a90  6e 66 69 67 22 2c 20 77  68 69 63 68 20 77 69 6c  |nfig", which wil|
00001aa0  6c 0a 20 20 20 6f 6e 6c  79 20 61 73 6b 20 79 6f  |l.   only ask yo|
00001ab0  75 20 66 6f 72 20 74 68  65 20 61 6e 73 77 65 72  |u for the answer|
00001ac0  73 20 74 6f 20 6e 65 77  20 71 75 65 73 74 69 6f  |s to new questio|
00001ad0  6e 73 2e 0a 0a 20 2d 20  41 6c 74 65 72 6e 61 74  |ns... - Alternat|
00001ae0  69 76 65 20 63 6f 6e 66  69 67 75 72 61 74 69 6f  |ive configuratio|
00001af0  6e 20 63 6f 6d 6d 61 6e  64 73 20 61 72 65 3a 0a  |n commands are:.|
00001b00  0a 20 20 20 20 20 22 6d  61 6b 65 20 63 6f 6e 66  |.     "make conf|
00001b10  69 67 22 20 20 20 20 20  20 50 6c 61 69 6e 20 74  |ig"      Plain t|
00001b20  65 78 74 20 69 6e 74 65  72 66 61 63 65 2e 0a 0a  |ext interface...|
00001b30  20 20 20 20 20 22 6d 61  6b 65 20 6d 65 6e 75 63  |     "make menuc|
00001b40  6f 6e 66 69 67 22 20 20  54 65 78 74 20 62 61 73  |onfig"  Text bas|
00001b50  65 64 20 63 6f 6c 6f 72  20 6d 65 6e 75 73 2c 20  |ed color menus, |
00001b60  72 61 64 69 6f 6c 69 73  74 73 20 26 20 64 69 61  |radiolists & dia|
00001b70  6c 6f 67 73 2e 0a 0a 20  20 20 20 20 22 6d 61 6b  |logs...     "mak|
00001b80  65 20 6e 63 6f 6e 66 69  67 22 20 20 20 20 20 45  |e nconfig"     E|
00001b90  6e 68 61 6e 63 65 64 20  74 65 78 74 20 62 61 73  |nhanced text bas|
00001ba0  65 64 20 63 6f 6c 6f 72  20 6d 65 6e 75 73 2e 0a  |ed color menus..|
00001bb0  0a 20 20 20 20 20 22 6d  61 6b 65 20 78 63 6f 6e  |.     "make xcon|
00001bc0  66 69 67 22 20 20 20 20  20 51 74 20 62 61 73 65  |fig"     Qt base|
00001bd0  64 20 63 6f 6e 66 69 67  75 72 61 74 69 6f 6e 20  |d configuration |
00001be0  74 6f 6f 6c 2e 0a 0a 20  20 20 20 20 22 6d 61 6b  |tool...     "mak|
00001bf0  65 20 67 63 6f 6e 66 69  67 22 20 20 20 20 20 47  |e gconfig"     G|
00001c00  54 4b 2b 20 62 61 73 65  64 20 63 6f 6e 66 69 67  |TK+ based config|
00001c10  75 72 61 74 69 6f 6e 20  74 6f 6f 6c 2e 0a 0a 20  |uration tool... |
00001c20  20 20 20 20 22 6d 61 6b  65 20 6f 6c 64 63 6f 6e  |    "make oldcon|
00001c30  66 69 67 22 20 20 20 44  65 66 61 75 6c 74 20 61  |fig"   Default a|
00001c40  6c 6c 20 71 75 65 73 74  69 6f 6e 73 20 62 61 73  |ll questions bas|
00001c50  65 64 20 6f 6e 20 74 68  65 20 63 6f 6e 74 65 6e  |ed on the conten|
00001c60  74 73 20 6f 66 0a 20 20  20 20 20 20 20 20 20 20  |ts of.          |
00001c70  20 20 20 20 20 20 20 20  20 20 20 20 20 20 79 6f  |              yo|
00001c80  75 72 20 65 78 69 73 74  69 6e 67 20 2e 2f 2e 63  |ur existing ./.c|
00001c90  6f 6e 66 69 67 20 66 69  6c 65 20 61 6e 64 20 61  |onfig file and a|
00001ca0  73 6b 69 6e 67 20 61 62  6f 75 74 0a 20 20 20 20  |sking about.    |
00001cb0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
00001cc0  20 20 20 20 6e 65 77 20  63 6f 6e 66 69 67 20 73  |    new config s|
00001cd0  79 6d 62 6f 6c 73 2e 0a  0a 20 20 20 20 20 22 6d  |ymbols...     "m|
00001ce0  61 6b 65 20 73 69 6c 65  6e 74 6f 6c 64 63 6f 6e  |ake silentoldcon|
00001cf0  66 69 67 22 0a 20 20 20  20 20 20 20 20 20 20 20  |fig".           |
00001d00  20 20 20 20 20 20 20 20  20 20 20 20 20 4c 69 6b  |             Lik|
00001d10  65 20 61 62 6f 76 65 2c  20 62 75 74 20 61 76 6f  |e above, but avo|
00001d20  69 64 73 20 63 6c 75 74  74 65 72 69 6e 67 20 74  |ids cluttering t|
00001d30  68 65 20 73 63 72 65 65  6e 0a 20 20 20 20 20 20  |he screen.      |
00001d40  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
00001d50  20 20 77 69 74 68 20 71  75 65 73 74 69 6f 6e 73  |  with questions|
00001d60  20 61 6c 72 65 61 64 79  20 61 6e 73 77 65 72 65  | already answere|
00001d70  64 2e 0a 20 20 20 20 20  20 20 20 20 20 20 20 20  |d..             |
00001d80  20 20 20 20 20 20 20 20  20 20 20 41 64 64 69 74  |           Addit|
00001d90  69 6f 6e 61 6c 6c 79 20  75 70 64 61 74 65 73 20  |ionally updates |
00001da0  74 68 65 20 64 65 70 65  6e 64 65 6e 63 69 65 73  |the dependencies|
00001db0  2e 0a 0a 20 20 20 20 20  22 6d 61 6b 65 20 6f 6c  |...     "make ol|
00001dc0  64 64 65 66 63 6f 6e 66  69 67 22 0a 20 20 20 20  |ddefconfig".    |
00001dd0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
00001de0  20 20 20 20 4c 69 6b 65  20 61 62 6f 76 65 2c 20  |    Like above, |
00001df0  62 75 74 20 73 65 74 73  20 6e 65 77 20 73 79 6d  |but sets new sym|
00001e00  62 6f 6c 73 20 74 6f 20  74 68 65 69 72 20 64 65  |bols to their de|
00001e10  66 61 75 6c 74 0a 20 20  20 20 20 20 20 20 20 20  |fault.          |
00001e20  20 20 20 20 20 20 20 20  20 20 20 20 20 20 76 61  |              va|
00001e30  6c 75 65 73 20 77 69 74  68 6f 75 74 20 70 72 6f  |lues without pro|
00001e40  6d 70 74 69 6e 67 2e 0a  0a 20 20 20 20 20 22 6d  |mpting...     "m|
00001e50  61 6b 65 20 64 65 66 63  6f 6e 66 69 67 22 20 20  |ake defconfig"  |
00001e60  20 43 72 65 61 74 65 20  61 20 2e 2f 2e 63 6f 6e  | Create a ./.con|
00001e70  66 69 67 20 66 69 6c 65  20 62 79 20 75 73 69 6e  |fig file by usin|
00001e80  67 20 74 68 65 20 64 65  66 61 75 6c 74 0a 20 20  |g the default.  |
00001e90  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
00001ea0  20 20 20 20 20 20 73 79  6d 62 6f 6c 20 76 61 6c  |      symbol val|
00001eb0  75 65 73 20 66 72 6f 6d  20 65 69 74 68 65 72 20  |ues from either |
00001ec0  61 72 63 68 2f 24 41 52  43 48 2f 64 65 66 63 6f  |arch/$ARCH/defco|
00001ed0  6e 66 69 67 0a 20 20 20  20 20 20 20 20 20 20 20  |nfig.           |
00001ee0  20 20 20 20 20 20 20 20  20 20 20 20 20 6f 72 20  |             or |
00001ef0  61 72 63 68 2f 24 41 52  43 48 2f 63 6f 6e 66 69  |arch/$ARCH/confi|
00001f00  67 73 2f 24 7b 50 4c 41  54 46 4f 52 4d 7d 5f 64  |gs/${PLATFORM}_d|
00001f10  65 66 63 6f 6e 66 69 67  2c 0a 20 20 20 20 20 20  |efconfig,.      |
00001f20  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
00001f30  20 20 64 65 70 65 6e 64  69 6e 67 20 6f 6e 20 74  |  depending on t|
00001f40  68 65 20 61 72 63 68 69  74 65 63 74 75 72 65 2e  |he architecture.|
00001f50  0a 0a 20 20 20 20 20 22  6d 61 6b 65 20 24 7b 50  |..     "make ${P|
00001f60  4c 41 54 46 4f 52 4d 7d  5f 64 65 66 63 6f 6e 66  |LATFORM}_defconf|
00001f70  69 67 22 0a 20 20 20 20  20 20 20 20 20 20 20 20  |ig".            |
00001f80  20 20 20 20 20 20 20 20  20 20 20 20 43 72 65 61  |            Crea|
00001f90  74 65 20 61 20 2e 2f 2e  63 6f 6e 66 69 67 20 66  |te a ./.config f|
00001fa0  69 6c 65 20 62 79 20 75  73 69 6e 67 20 74 68 65  |ile by using the|
00001fb0  20 64 65 66 61 75 6c 74  0a 20 20 20 20 20 20 20  | default.       |
00001fc0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
00001fd0  20 73 79 6d 62 6f 6c 20  76 61 6c 75 65 73 20 66  | symbol values f|
00001fe0  72 6f 6d 0a 20 20 20 20  20 20 20 20 20 20 20 20  |rom.            |
00001ff0  20 20 20 20 20 20 20 20  20 20 20 20 61 72 63 68  |            arch|
00002000  2f 24 41 52 43 48 2f 63  6f 6e 66 69 67 73 2f 24  |/$ARCH/configs/$|
00002010  7b 50 4c 41 54 46 4f 52  4d 7d 5f 64 65 66 63 6f  |{PLATFORM}_defco|
00002020  6e 66 69 67 2e 0a 20 20  20 20 20 20 20 20 20 20  |nfig..          |
00002030  20 20 20 20 20 20 20 20  20 20 20 20 20 20 55 73  |              Us|
00002040  65 20 22 6d 61 6b 65 20  68 65 6c 70 22 20 74 6f  |e "make help" to|
00002050  20 67 65 74 20 61 20 6c  69 73 74 20 6f 66 20 61  | get a list of a|
00002060  6c 6c 20 61 76 61 69 6c  61 62 6c 65 0a 20 20 20  |ll available.   |
00002070  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
00002080  20 20 20 20 20 70 6c 61  74 66 6f 72 6d 73 20 6f  |     platforms o|
00002090  66 20 79 6f 75 72 20 61  72 63 68 69 74 65 63 74  |f your architect|
000020a0  75 72 65 2e 0a 0a 20 20  20 20 20 22 6d 61 6b 65  |ure...     "make|
000020b0  20 61 6c 6c 79 65 73 63  6f 6e 66 69 67 22 0a 20  | allyesconfig". |
000020c0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
000020d0  20 20 20 20 20 20 20 43  72 65 61 74 65 20 61 20  |       Create a |
000020e0  2e 2f 2e 63 6f 6e 66 69  67 20 66 69 6c 65 20 62  |./.config file b|
000020f0  79 20 73 65 74 74 69 6e  67 20 73 79 6d 62 6f 6c  |y setting symbol|
00002100  0a 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |.               |
00002110  20 20 20 20 20 20 20 20  20 76 61 6c 75 65 73 20  |         values |
00002120  74 6f 20 27 79 27 20 61  73 20 6d 75 63 68 20 61  |to 'y' as much a|
00002130  73 20 70 6f 73 73 69 62  6c 65 2e 0a 0a 20 20 20  |s possible...   |
00002140  20 20 22 6d 61 6b 65 20  61 6c 6c 6d 6f 64 63 6f  |  "make allmodco|
00002150  6e 66 69 67 22 0a 20 20  20 20 20 20 20 20 20 20  |nfig".          |
00002160  20 20 20 20 20 20 20 20  20 20 20 20 20 20 43 72  |              Cr|
00002170  65 61 74 65 20 61 20 2e  2f 2e 63 6f 6e 66 69 67  |eate a ./.config|
00002180  20 66 69 6c 65 20 62 79  20 73 65 74 74 69 6e 67  | file by setting|
00002190  20 73 79 6d 62 6f 6c 0a  20 20 20 20 20 20 20 20  | symbol.        |
000021a0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
000021b0  76 61 6c 75 65 73 20 74  6f 20 27 6d 27 20 61 73  |values to 'm' as|
000021c0  20 6d 75 63 68 20 61 73  20 70 6f 73 73 69 62 6c  | much as possibl|
000021d0  65 2e 0a 0a 20 20 20 20  20 22 6d 61 6b 65 20 61  |e...     "make a|
000021e0  6c 6c 6e 6f 63 6f 6e 66  69 67 22 20 43 72 65 61  |llnoconfig" Crea|
000021f0  74 65 20 61 20 2e 2f 2e  63 6f 6e 66 69 67 20 66  |te a ./.config f|
00002200  69 6c 65 20 62 79 20 73  65 74 74 69 6e 67 20 73  |ile by setting s|
00002210  79 6d 62 6f 6c 0a 20 20  20 20 20 20 20 20 20 20  |ymbol.          |
00002220  20 20 20 20 20 20 20 20  20 20 20 20 20 20 76 61  |              va|
00002230  6c 75 65 73 20 74 6f 20  27 6e 27 20 61 73 20 6d  |lues to 'n' as m|
00002240  75 63 68 20 61 73 20 70  6f 73 73 69 62 6c 65 2e  |uch as possible.|
00002250  0a 0a 20 20 20 20 20 22  6d 61 6b 65 20 72 61 6e  |..     "make ran|
00002260  64 63 6f 6e 66 69 67 22  20 20 43 72 65 61 74 65  |dconfig"  Create|
00002270  20 61 20 2e 2f 2e 63 6f  6e 66 69 67 20 66 69 6c  | a ./.config fil|
00002280  65 20 62 79 20 73 65 74  74 69 6e 67 20 73 79 6d  |e by setting sym|
00002290  62 6f 6c 0a 20 20 20 20  20 20 20 20 20 20 20 20  |bol.            |
000022a0  20 20 20 20 20 20 20 20  20 20 20 20 76 61 6c 75  |            valu|
000022b0  65 73 20 74 6f 20 72 61  6e 64 6f 6d 20 76 61 6c  |es to random val|
000022c0  75 65 73 2e 0a 0a 20 20  20 20 20 22 6d 61 6b 65  |ues...     "make|
000022d0  20 6c 6f 63 61 6c 6d 6f  64 63 6f 6e 66 69 67 22  | localmodconfig"|
000022e0  20 43 72 65 61 74 65 20  61 20 63 6f 6e 66 69 67  | Create a config|
000022f0  20 62 61 73 65 64 20 6f  6e 20 63 75 72 72 65 6e  | based on curren|
00002300  74 20 63 6f 6e 66 69 67  20 61 6e 64 0a 20 20 20  |t config and.   |
00002310  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
00002320  20 20 20 20 20 20 20 20  6c 6f 61 64 65 64 20 6d  |        loaded m|
00002330  6f 64 75 6c 65 73 20 28  6c 73 6d 6f 64 29 2e 20  |odules (lsmod). |
00002340  44 69 73 61 62 6c 65 73  20 61 6e 79 20 6d 6f 64  |Disables any mod|
00002350  75 6c 65 0a 20 20 20 20  20 20 20 20 20 20 20 20  |ule.            |
00002360  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 6f  |               o|
00002370  70 74 69 6f 6e 20 74 68  61 74 20 69 73 20 6e 6f  |ption that is no|
00002380  74 20 6e 65 65 64 65 64  20 66 6f 72 20 74 68 65  |t needed for the|
00002390  20 6c 6f 61 64 65 64 20  6d 6f 64 75 6c 65 73 2e  | loaded modules.|
000023a0  0a 0a 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |..              |
000023b0  20 20 20 20 20 20 20 20  20 20 20 20 20 54 6f 20  |             To |
000023c0  63 72 65 61 74 65 20 61  20 6c 6f 63 61 6c 6d 6f  |create a localmo|
000023d0  64 63 6f 6e 66 69 67 20  66 6f 72 20 61 6e 6f 74  |dconfig for anot|
000023e0  68 65 72 20 6d 61 63 68  69 6e 65 2c 0a 20 20 20  |her machine,.   |
000023f0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
00002400  20 20 20 20 20 20 20 20  73 74 6f 72 65 20 74 68  |        store th|
00002410  65 20 6c 73 6d 6f 64 20  6f 66 20 74 68 61 74 20  |e lsmod of that |
00002420  6d 61 63 68 69 6e 65 20  69 6e 74 6f 20 61 20 66  |machine into a f|
00002430  69 6c 65 0a 20 20 20 20  20 20 20 20 20 20 20 20  |ile.            |
00002440  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 61  |               a|
00002450  6e 64 20 70 61 73 73 20  69 74 20 69 6e 20 61 73  |nd pass it in as|
00002460  20 61 20 4c 53 4d 4f 44  20 70 61 72 61 6d 65 74  | a LSMOD paramet|
00002470  65 72 2e 0a 0a 20 20 20  20 20 20 20 20 20 20 20  |er...           |
00002480  20 20 20 20 20 20 20 20  74 61 72 67 65 74 24 20  |        target$ |
00002490  6c 73 6d 6f 64 20 3e 20  2f 74 6d 70 2f 6d 79 6c  |lsmod > /tmp/myl|
000024a0  73 6d 6f 64 0a 20 20 20  20 20 20 20 20 20 20 20  |smod.           |
000024b0  20 20 20 20 20 20 20 20  74 61 72 67 65 74 24 20  |        target$ |
000024c0  73 63 70 20 2f 74 6d 70  2f 6d 79 6c 73 6d 6f 64  |scp /tmp/mylsmod|
000024d0  20 68 6f 73 74 3a 2f 74  6d 70 0a 0a 20 20 20 20  | host:/tmp..    |
000024e0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 68  |               h|
000024f0  6f 73 74 24 20 6d 61 6b  65 20 4c 53 4d 4f 44 3d  |ost$ make LSMOD=|
00002500  2f 74 6d 70 2f 6d 79 6c  73 6d 6f 64 20 6c 6f 63  |/tmp/mylsmod loc|
00002510  61 6c 6d 6f 64 63 6f 6e  66 69 67 0a 0a 20 20 20  |almodconfig..   |
00002520  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
00002530  20 20 20 20 20 20 20 20  54 68 65 20 61 62 6f 76  |        The abov|
00002540  65 20 61 6c 73 6f 20 77  6f 72 6b 73 20 77 68 65  |e also works whe|
00002550  6e 20 63 72 6f 73 73 20  63 6f 6d 70 69 6c 69 6e  |n cross compilin|
00002560  67 2e 0a 0a 20 20 20 20  20 22 6d 61 6b 65 20 6c  |g...     "make l|
00002570  6f 63 61 6c 79 65 73 63  6f 6e 66 69 67 22 20 53  |ocalyesconfig" S|
00002580  69 6d 69 6c 61 72 20 74  6f 20 6c 6f 63 61 6c 6d  |imilar to localm|
00002590  6f 64 63 6f 6e 66 69 67  2c 20 65 78 63 65 70 74  |odconfig, except|
000025a0  20 69 74 20 77 69 6c 6c  20 63 6f 6e 76 65 72 74  | it will convert|
000025b0  0a 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |.               |
000025c0  20 20 20 20 20 20 20 20  20 20 20 20 61 6c 6c 20  |            all |
000025d0  6d 6f 64 75 6c 65 20 6f  70 74 69 6f 6e 73 20 74  |module options t|
000025e0  6f 20 62 75 69 6c 74 20  69 6e 20 28 3d 79 29 20  |o built in (=y) |
000025f0  6f 70 74 69 6f 6e 73 2e  0a 0a 20 20 20 59 6f 75  |options...   You|
00002600  20 63 61 6e 20 66 69 6e  64 20 6d 6f 72 65 20 69  | can find more i|
00002610  6e 66 6f 72 6d 61 74 69  6f 6e 20 6f 6e 20 75 73  |nformation on us|
00002620  69 6e 67 20 74 68 65 20  4c 69 6e 75 78 20 6b 65  |ing the Linux ke|
00002630  72 6e 65 6c 20 63 6f 6e  66 69 67 20 74 6f 6f 6c  |rnel config tool|
00002640  73 0a 20 20 20 69 6e 20  44 6f 63 75 6d 65 6e 74  |s.   in Document|
00002650  61 74 69 6f 6e 2f 6b 62  75 69 6c 64 2f 6b 63 6f  |ation/kbuild/kco|
00002660  6e 66 69 67 2e 74 78 74  2e 0a 0a 20 2d 20 4e 4f  |nfig.txt... - NO|
00002670  54 45 53 20 6f 6e 20 22  6d 61 6b 65 20 63 6f 6e  |TES on "make con|
00002680  66 69 67 22 3a 0a 0a 20  20 20 20 2d 20 48 61 76  |fig":..    - Hav|
00002690  69 6e 67 20 75 6e 6e 65  63 65 73 73 61 72 79 20  |ing unnecessary |
000026a0  64 72 69 76 65 72 73 20  77 69 6c 6c 20 6d 61 6b  |drivers will mak|
000026b0  65 20 74 68 65 20 6b 65  72 6e 65 6c 20 62 69 67  |e the kernel big|
000026c0  67 65 72 2c 20 61 6e 64  20 63 61 6e 0a 20 20 20  |ger, and can.   |
000026d0  20 20 20 75 6e 64 65 72  20 73 6f 6d 65 20 63 69  |   under some ci|
000026e0  72 63 75 6d 73 74 61 6e  63 65 73 20 6c 65 61 64  |rcumstances lead|
000026f0  20 74 6f 20 70 72 6f 62  6c 65 6d 73 3a 20 70 72  | to problems: pr|
00002700  6f 62 69 6e 67 20 66 6f  72 20 61 0a 20 20 20 20  |obing for a.    |
00002710  20 20 6e 6f 6e 65 78 69  73 74 65 6e 74 20 63 6f  |  nonexistent co|
00002720  6e 74 72 6f 6c 6c 65 72  20 63 61 72 64 20 6d 61  |ntroller card ma|
00002730  79 20 63 6f 6e 66 75 73  65 20 79 6f 75 72 20 6f  |y confuse your o|
00002740  74 68 65 72 20 63 6f 6e  74 72 6f 6c 6c 65 72 73  |ther controllers|
00002750  0a 0a 20 20 20 20 2d 20  43 6f 6d 70 69 6c 69 6e  |..    - Compilin|
00002760  67 20 74 68 65 20 6b 65  72 6e 65 6c 20 77 69 74  |g the kernel wit|
00002770  68 20 22 50 72 6f 63 65  73 73 6f 72 20 74 79 70  |h "Processor typ|
00002780  65 22 20 73 65 74 20 68  69 67 68 65 72 20 74 68  |e" set higher th|
00002790  61 6e 20 33 38 36 0a 20  20 20 20 20 20 77 69 6c  |an 386.      wil|
000027a0  6c 20 72 65 73 75 6c 74  20 69 6e 20 61 20 6b 65  |l result in a ke|
000027b0  72 6e 65 6c 20 74 68 61  74 20 64 6f 65 73 20 4e  |rnel that does N|
000027c0  4f 54 20 77 6f 72 6b 20  6f 6e 20 61 20 33 38 36  |OT work on a 386|
000027d0  2e 20 20 54 68 65 0a 20  20 20 20 20 20 6b 65 72  |.  The.      ker|
000027e0  6e 65 6c 20 77 69 6c 6c  20 64 65 74 65 63 74 20  |nel will detect |
000027f0  74 68 69 73 20 6f 6e 20  62 6f 6f 74 75 70 2c 20  |this on bootup, |
00002800  61 6e 64 20 67 69 76 65  20 75 70 2e 0a 0a 20 20  |and give up...  |
00002810  20 20 2d 20 41 20 6b 65  72 6e 65 6c 20 77 69 74  |  - A kernel wit|
00002820  68 20 6d 61 74 68 2d 65  6d 75 6c 61 74 69 6f 6e  |h math-emulation|
00002830  20 63 6f 6d 70 69 6c 65  64 20 69 6e 20 77 69 6c  | compiled in wil|
00002840  6c 20 73 74 69 6c 6c 20  75 73 65 20 74 68 65 0a  |l still use the.|
00002850  20 20 20 20 20 20 63 6f  70 72 6f 63 65 73 73 6f  |      coprocesso|
00002860  72 20 69 66 20 6f 6e 65  20 69 73 20 70 72 65 73  |r if one is pres|
00002870  65 6e 74 3a 20 74 68 65  20 6d 61 74 68 20 65 6d  |ent: the math em|
00002880  75 6c 61 74 69 6f 6e 20  77 69 6c 6c 20 6a 75 73  |ulation will jus|
00002890  74 0a 20 20 20 20 20 20  6e 65 76 65 72 20 67 65  |t.      never ge|
000028a0  74 20 75 73 65 64 20 69  6e 20 74 68 61 74 20 63  |t used in that c|
000028b0  61 73 65 2e 20 20 54 68  65 20 6b 65 72 6e 65 6c  |ase.  The kernel|
000028c0  20 77 69 6c 6c 20 62 65  20 73 6c 69 67 68 74 6c  | will be slightl|
000028d0  79 20 6c 61 72 67 65 72  2c 0a 20 20 20 20 20 20  |y larger,.      |
000028e0  62 75 74 20 77 69 6c 6c  20 77 6f 72 6b 20 6f 6e  |but will work on|
000028f0  20 64 69 66 66 65 72 65  6e 74 20 6d 61 63 68 69  | different machi|
00002900  6e 65 73 20 72 65 67 61  72 64 6c 65 73 73 20 6f  |nes regardless o|
00002910  66 20 77 68 65 74 68 65  72 20 74 68 65 79 0a 20  |f whether they. |
00002920  20 20 20 20 20 68 61 76  65 20 61 20 6d 61 74 68  |     have a math|
00002930  20 63 6f 70 72 6f 63 65  73 73 6f 72 20 6f 72 20  | coprocessor or |
00002940  6e 6f 74 2e 0a 0a 20 20  20 20 2d 20 54 68 65 20  |not...    - The |
00002950  22 6b 65 72 6e 65 6c 20  68 61 63 6b 69 6e 67 22  |"kernel hacking"|
00002960  20 63 6f 6e 66 69 67 75  72 61 74 69 6f 6e 20 64  | configuration d|
00002970  65 74 61 69 6c 73 20 75  73 75 61 6c 6c 79 20 72  |etails usually r|
00002980  65 73 75 6c 74 20 69 6e  20 61 0a 20 20 20 20 20  |esult in a.     |
00002990  20 62 69 67 67 65 72 20  6f 72 20 73 6c 6f 77 65  | bigger or slowe|
000029a0  72 20 6b 65 72 6e 65 6c  20 28 6f 72 20 62 6f 74  |r kernel (or bot|
000029b0  68 29 2c 20 61 6e 64 20  63 61 6e 20 65 76 65 6e  |h), and can even|
000029c0  20 6d 61 6b 65 20 74 68  65 20 6b 65 72 6e 65 6c  | make the kernel|
000029d0  0a 20 20 20 20 20 20 6c  65 73 73 20 73 74 61 62  |.      less stab|
000029e0  6c 65 20 62 79 20 63 6f  6e 66 69 67 75 72 69 6e  |le by configurin|
000029f0  67 20 73 6f 6d 65 20 72  6f 75 74 69 6e 65 73 20  |g some routines |
00002a00  74 6f 20 61 63 74 69 76  65 6c 79 20 74 72 79 20  |to actively try |
00002a10  74 6f 0a 20 20 20 20 20  20 62 72 65 61 6b 20 62  |to.      break b|
00002a20  61 64 20 63 6f 64 65 20  74 6f 20 66 69 6e 64 20  |ad code to find |
00002a30  6b 65 72 6e 65 6c 20 70  72 6f 62 6c 65 6d 73 20  |kernel problems |
00002a40  28 6b 6d 61 6c 6c 6f 63  28 29 29 2e 20 20 54 68  |(kmalloc()).  Th|
00002a50  75 73 20 79 6f 75 0a 20  20 20 20 20 20 73 68 6f  |us you.      sho|
00002a60  75 6c 64 20 70 72 6f 62  61 62 6c 79 20 61 6e 73  |uld probably ans|
00002a70  77 65 72 20 27 6e 27 20  74 6f 20 74 68 65 20 71  |wer 'n' to the q|
00002a80  75 65 73 74 69 6f 6e 73  20 66 6f 72 20 22 64 65  |uestions for "de|
00002a90  76 65 6c 6f 70 6d 65 6e  74 22 2c 0a 20 20 20 20  |velopment",.    |
00002aa0  20 20 22 65 78 70 65 72  69 6d 65 6e 74 61 6c 22  |  "experimental"|
00002ab0  2c 20 6f 72 20 22 64 65  62 75 67 67 69 6e 67 22  |, or "debugging"|
00002ac0  20 66 65 61 74 75 72 65  73 2e 0a 0a 43 4f 4d 50  | features...COMP|
00002ad0  49 4c 49 4e 47 20 74 68  65 20 6b 65 72 6e 65 6c  |ILING the kernel|
00002ae0  3a 0a 0a 20 2d 20 4d 61  6b 65 20 73 75 72 65 20  |:.. - Make sure |
00002af0  79 6f 75 20 68 61 76 65  20 61 74 20 6c 65 61 73  |you have at leas|
00002b00  74 20 67 63 63 20 33 2e  32 20 61 76 61 69 6c 61  |t gcc 3.2 availa|
00002b10  62 6c 65 2e 0a 20 20 20  46 6f 72 20 6d 6f 72 65  |ble..   For more|
00002b20  20 69 6e 66 6f 72 6d 61  74 69 6f 6e 2c 20 72 65  | information, re|
00002b30  66 65 72 20 74 6f 20 44  6f 63 75 6d 65 6e 74 61  |fer to Documenta|
00002b40  74 69 6f 6e 2f 43 68 61  6e 67 65 73 2e 0a 0a 20  |tion/Changes... |
00002b50  20 20 50 6c 65 61 73 65  20 6e 6f 74 65 20 74 68  |  Please note th|
00002b60  61 74 20 79 6f 75 20 63  61 6e 20 73 74 69 6c 6c  |at you can still|
00002b70  20 72 75 6e 20 61 2e 6f  75 74 20 75 73 65 72 20  | run a.out user |
00002b80  70 72 6f 67 72 61 6d 73  20 77 69 74 68 20 74 68  |programs with th|
00002b90  69 73 20 6b 65 72 6e 65  6c 2e 0a 0a 20 2d 20 44  |is kernel... - D|
00002ba0  6f 20 61 20 22 6d 61 6b  65 22 20 74 6f 20 63 72  |o a "make" to cr|
00002bb0  65 61 74 65 20 61 20 63  6f 6d 70 72 65 73 73 65  |eate a compresse|
00002bc0  64 20 6b 65 72 6e 65 6c  20 69 6d 61 67 65 2e 20  |d kernel image. |
00002bd0  49 74 20 69 73 20 61 6c  73 6f 0a 20 20 20 70 6f  |It is also.   po|
00002be0  73 73 69 62 6c 65 20 74  6f 20 64 6f 20 22 6d 61  |ssible to do "ma|
00002bf0  6b 65 20 69 6e 73 74 61  6c 6c 22 20 69 66 20 79  |ke install" if y|
00002c00  6f 75 20 68 61 76 65 20  6c 69 6c 6f 20 69 6e 73  |ou have lilo ins|
00002c10  74 61 6c 6c 65 64 20 74  6f 20 73 75 69 74 20 74  |talled to suit t|
00002c20  68 65 0a 20 20 20 6b 65  72 6e 65 6c 20 6d 61 6b  |he.   kernel mak|
00002c30  65 66 69 6c 65 73 2c 20  62 75 74 20 79 6f 75 20  |efiles, but you |
00002c40  6d 61 79 20 77 61 6e 74  20 74 6f 20 63 68 65 63  |may want to chec|
00002c50  6b 20 79 6f 75 72 20 70  61 72 74 69 63 75 6c 61  |k your particula|
00002c60  72 20 6c 69 6c 6f 20 73  65 74 75 70 20 66 69 72  |r lilo setup fir|
00002c70  73 74 2e 0a 0a 20 20 20  54 6f 20 64 6f 20 74 68  |st...   To do th|
00002c80  65 20 61 63 74 75 61 6c  20 69 6e 73 74 61 6c 6c  |e actual install|
00002c90  2c 20 79 6f 75 20 68 61  76 65 20 74 6f 20 62 65  |, you have to be|
00002ca0  20 72 6f 6f 74 2c 20 62  75 74 20 6e 6f 6e 65 20  | root, but none |
00002cb0  6f 66 20 74 68 65 20 6e  6f 72 6d 61 6c 0a 20 20  |of the normal.  |
00002cc0  20 62 75 69 6c 64 20 73  68 6f 75 6c 64 20 72 65  | build should re|
00002cd0  71 75 69 72 65 20 74 68  61 74 2e 20 44 6f 6e 27  |quire that. Don'|
00002ce0  74 20 74 61 6b 65 20 74  68 65 20 6e 61 6d 65 20  |t take the name |
00002cf0  6f 66 20 72 6f 6f 74 20  69 6e 20 76 61 69 6e 2e  |of root in vain.|
00002d00  0a 0a 20 2d 20 49 66 20  79 6f 75 20 63 6f 6e 66  |.. - If you conf|
00002d10  69 67 75 72 65 64 20 61  6e 79 20 6f 66 20 74 68  |igured any of th|
00002d20  65 20 70 61 72 74 73 20  6f 66 20 74 68 65 20 6b  |e parts of the k|
00002d30  65 72 6e 65 6c 20 61 73  20 60 6d 6f 64 75 6c 65  |ernel as `module|
00002d40  73 27 2c 20 79 6f 75 0a  20 20 20 77 69 6c 6c 20  |s', you.   will |
00002d50  61 6c 73 6f 20 68 61 76  65 20 74 6f 20 64 6f 20  |also have to do |
00002d60  22 6d 61 6b 65 20 6d 6f  64 75 6c 65 73 5f 69 6e  |"make modules_in|
00002d70  73 74 61 6c 6c 22 2e 0a  0a 20 2d 20 56 65 72 62  |stall"... - Verb|
00002d80  6f 73 65 20 6b 65 72 6e  65 6c 20 63 6f 6d 70 69  |ose kernel compi|
00002d90  6c 65 2f 62 75 69 6c 64  20 6f 75 74 70 75 74 3a  |le/build output:|
00002da0  0a 0a 20 20 20 4e 6f 72  6d 61 6c 6c 79 2c 20 74  |..   Normally, t|
00002db0  68 65 20 6b 65 72 6e 65  6c 20 62 75 69 6c 64 20  |he kernel build |
00002dc0  73 79 73 74 65 6d 20 72  75 6e 73 20 69 6e 20 61  |system runs in a|
00002dd0  20 66 61 69 72 6c 79 20  71 75 69 65 74 20 6d 6f  | fairly quiet mo|
00002de0  64 65 20 28 62 75 74 20  6e 6f 74 0a 20 20 20 74  |de (but not.   t|
00002df0  6f 74 61 6c 6c 79 20 73  69 6c 65 6e 74 29 2e 20  |otally silent). |
00002e00  20 48 6f 77 65 76 65 72  2c 20 73 6f 6d 65 74 69  | However, someti|
00002e10  6d 65 73 20 79 6f 75 20  6f 72 20 6f 74 68 65 72  |mes you or other|
00002e20  20 6b 65 72 6e 65 6c 20  64 65 76 65 6c 6f 70 65  | kernel develope|
00002e30  72 73 20 6e 65 65 64 0a  20 20 20 74 6f 20 73 65  |rs need.   to se|
00002e40  65 20 63 6f 6d 70 69 6c  65 2c 20 6c 69 6e 6b 2c  |e compile, link,|
00002e50  20 6f 72 20 6f 74 68 65  72 20 63 6f 6d 6d 61 6e  | or other comman|
00002e60  64 73 20 65 78 61 63 74  6c 79 20 61 73 20 74 68  |ds exactly as th|
00002e70  65 79 20 61 72 65 20 65  78 65 63 75 74 65 64 2e  |ey are executed.|
00002e80  0a 20 20 20 46 6f 72 20  74 68 69 73 2c 20 75 73  |.   For this, us|
00002e90  65 20 22 76 65 72 62 6f  73 65 22 20 62 75 69 6c  |e "verbose" buil|
00002ea0  64 20 6d 6f 64 65 2e 20  20 54 68 69 73 20 69 73  |d mode.  This is|
00002eb0  20 64 6f 6e 65 20 62 79  20 70 61 73 73 69 6e 67  | done by passing|
00002ec0  0a 20 20 20 22 56 3d 31  22 20 74 6f 20 74 68 65  |.   "V=1" to the|
00002ed0  20 22 6d 61 6b 65 22 20  63 6f 6d 6d 61 6e 64 2c  | "make" command,|
00002ee0  20 65 2e 67 2e 0a 0a 20  20 20 20 20 6d 61 6b 65  | e.g...     make|
00002ef0  20 56 3d 31 20 61 6c 6c  0a 0a 20 20 20 54 6f 20  | V=1 all..   To |
00002f00  68 61 76 65 20 74 68 65  20 62 75 69 6c 64 20 73  |have the build s|
00002f10  79 73 74 65 6d 20 61 6c  73 6f 20 74 65 6c 6c 20  |ystem also tell |
00002f20  74 68 65 20 72 65 61 73  6f 6e 20 66 6f 72 20 74  |the reason for t|
00002f30  68 65 20 72 65 62 75 69  6c 64 20 6f 66 20 65 61  |he rebuild of ea|
00002f40  63 68 0a 20 20 20 74 61  72 67 65 74 2c 20 75 73  |ch.   target, us|
00002f50  65 20 22 56 3d 32 22 2e  20 20 54 68 65 20 64 65  |e "V=2".  The de|
00002f60  66 61 75 6c 74 20 69 73  20 22 56 3d 30 22 2e 0a  |fault is "V=0"..|
00002f70  0a 20 2d 20 4b 65 65 70  20 61 20 62 61 63 6b 75  |. - Keep a backu|
00002f80  70 20 6b 65 72 6e 65 6c  20 68 61 6e 64 79 20 69  |p kernel handy i|
00002f90  6e 20 63 61 73 65 20 73  6f 6d 65 74 68 69 6e 67  |n case something|
00002fa0  20 67 6f 65 73 20 77 72  6f 6e 67 2e 20 20 54 68  | goes wrong.  Th|
00002fb0  69 73 20 69 73 0a 20 20  20 65 73 70 65 63 69 61  |is is.   especia|
00002fc0  6c 6c 79 20 74 72 75 65  20 66 6f 72 20 74 68 65  |lly true for the|
00002fd0  20 64 65 76 65 6c 6f 70  6d 65 6e 74 20 72 65 6c  | development rel|
00002fe0  65 61 73 65 73 2c 20 73  69 6e 63 65 20 65 61 63  |eases, since eac|
00002ff0  68 20 6e 65 77 20 72 65  6c 65 61 73 65 0a 20 20  |h new release.  |
00003000  20 63 6f 6e 74 61 69 6e  73 20 6e 65 77 20 63 6f  | contains new co|
00003010  64 65 20 77 68 69 63 68  20 68 61 73 20 6e 6f 74  |de which has not|
00003020  20 62 65 65 6e 20 64 65  62 75 67 67 65 64 2e 20  | been debugged. |
00003030  20 4d 61 6b 65 20 73 75  72 65 20 79 6f 75 20 6b  | Make sure you k|
00003040  65 65 70 20 61 0a 20 20  20 62 61 63 6b 75 70 20  |eep a.   backup |
00003050  6f 66 20 74 68 65 20 6d  6f 64 75 6c 65 73 20 63  |of the modules c|
00003060  6f 72 72 65 73 70 6f 6e  64 69 6e 67 20 74 6f 20  |orresponding to |
00003070  74 68 61 74 20 6b 65 72  6e 65 6c 2c 20 61 73 20  |that kernel, as |
00003080  77 65 6c 6c 2e 20 20 49  66 20 79 6f 75 0a 20 20  |well.  If you.  |
00003090  20 61 72 65 20 69 6e 73  74 61 6c 6c 69 6e 67 20  | are installing |
000030a0  61 20 6e 65 77 20 6b 65  72 6e 65 6c 20 77 69 74  |a new kernel wit|
000030b0  68 20 74 68 65 20 73 61  6d 65 20 76 65 72 73 69  |h the same versi|
000030c0  6f 6e 20 6e 75 6d 62 65  72 20 61 73 20 79 6f 75  |on number as you|
000030d0  72 0a 20 20 20 77 6f 72  6b 69 6e 67 20 6b 65 72  |r.   working ker|
000030e0  6e 65 6c 2c 20 6d 61 6b  65 20 61 20 62 61 63 6b  |nel, make a back|
000030f0  75 70 20 6f 66 20 79 6f  75 72 20 6d 6f 64 75 6c  |up of your modul|
00003100  65 73 20 64 69 72 65 63  74 6f 72 79 20 62 65 66  |es directory bef|
00003110  6f 72 65 20 79 6f 75 0a  20 20 20 64 6f 20 61 20  |ore you.   do a |
00003120  22 6d 61 6b 65 20 6d 6f  64 75 6c 65 73 5f 69 6e  |"make modules_in|
00003130  73 74 61 6c 6c 22 2e 0a  0a 20 20 20 41 6c 74 65  |stall"...   Alte|
00003140  72 6e 61 74 69 76 65 6c  79 2c 20 62 65 66 6f 72  |rnatively, befor|
00003150  65 20 63 6f 6d 70 69 6c  69 6e 67 2c 20 75 73 65  |e compiling, use|
00003160  20 74 68 65 20 6b 65 72  6e 65 6c 20 63 6f 6e 66  | the kernel conf|
00003170  69 67 20 6f 70 74 69 6f  6e 0a 20 20 20 22 4c 4f  |ig option.   "LO|
00003180  43 41 4c 56 45 52 53 49  4f 4e 22 20 74 6f 20 61  |CALVERSION" to a|
00003190  70 70 65 6e 64 20 61 20  75 6e 69 71 75 65 20 73  |ppend a unique s|
000031a0  75 66 66 69 78 20 74 6f  20 74 68 65 20 72 65 67  |uffix to the reg|
000031b0  75 6c 61 72 20 6b 65 72  6e 65 6c 20 76 65 72 73  |ular kernel vers|
000031c0  69 6f 6e 2e 0a 20 20 20  4c 4f 43 41 4c 56 45 52  |ion..   LOCALVER|
000031d0  53 49 4f 4e 20 63 61 6e  20 62 65 20 73 65 74 20  |SION can be set |
000031e0  69 6e 20 74 68 65 20 22  47 65 6e 65 72 61 6c 20  |in the "General |
000031f0  53 65 74 75 70 22 20 6d  65 6e 75 2e 0a 0a 20 2d  |Setup" menu... -|
00003200  20 49 6e 20 6f 72 64 65  72 20 74 6f 20 62 6f 6f  | In order to boo|
00003210  74 20 79 6f 75 72 20 6e  65 77 20 6b 65 72 6e 65  |t your new kerne|
00003220  6c 2c 20 79 6f 75 27 6c  6c 20 6e 65 65 64 20 74  |l, you'll need t|
00003230  6f 20 63 6f 70 79 20 74  68 65 20 6b 65 72 6e 65  |o copy the kerne|
00003240  6c 0a 20 20 20 69 6d 61  67 65 20 28 65 2e 67 2e  |l.   image (e.g.|
00003250  20 2e 2e 2e 2f 6c 69 6e  75 78 2f 61 72 63 68 2f  | .../linux/arch/|
00003260  69 33 38 36 2f 62 6f 6f  74 2f 62 7a 49 6d 61 67  |i386/boot/bzImag|
00003270  65 20 61 66 74 65 72 20  63 6f 6d 70 69 6c 61 74  |e after compilat|
00003280  69 6f 6e 29 0a 20 20 20  74 6f 20 74 68 65 20 70  |ion).   to the p|
00003290  6c 61 63 65 20 77 68 65  72 65 20 79 6f 75 72 20  |lace where your |
000032a0  72 65 67 75 6c 61 72 20  62 6f 6f 74 61 62 6c 65  |regular bootable|
000032b0  20 6b 65 72 6e 65 6c 20  69 73 20 66 6f 75 6e 64  | kernel is found|
000032c0  2e 0a 0a 20 2d 20 42 6f  6f 74 69 6e 67 20 61 20  |... - Booting a |
000032d0  6b 65 72 6e 65 6c 20 64  69 72 65 63 74 6c 79 20  |kernel directly |
000032e0  66 72 6f 6d 20 61 20 66  6c 6f 70 70 79 20 77 69  |from a floppy wi|
000032f0  74 68 6f 75 74 20 74 68  65 20 61 73 73 69 73 74  |thout the assist|
00003300  61 6e 63 65 20 6f 66 20  61 0a 20 20 20 62 6f 6f  |ance of a.   boo|
00003310  74 6c 6f 61 64 65 72 20  73 75 63 68 20 61 73 20  |tloader such as |
00003320  4c 49 4c 4f 2c 20 69 73  20 6e 6f 20 6c 6f 6e 67  |LILO, is no long|
00003330  65 72 20 73 75 70 70 6f  72 74 65 64 2e 0a 0a 20  |er supported... |
00003340  20 20 49 66 20 79 6f 75  20 62 6f 6f 74 20 4c 69  |  If you boot Li|
00003350  6e 75 78 20 66 72 6f 6d  20 74 68 65 20 68 61 72  |nux from the har|
00003360  64 20 64 72 69 76 65 2c  20 63 68 61 6e 63 65 73  |d drive, chances|
00003370  20 61 72 65 20 79 6f 75  20 75 73 65 20 4c 49 4c  | are you use LIL|
00003380  4f 2c 20 77 68 69 63 68  0a 20 20 20 75 73 65 73  |O, which.   uses|
00003390  20 74 68 65 20 6b 65 72  6e 65 6c 20 69 6d 61 67  | the kernel imag|
000033a0  65 20 61 73 20 73 70 65  63 69 66 69 65 64 20 69  |e as specified i|
000033b0  6e 20 74 68 65 20 66 69  6c 65 20 2f 65 74 63 2f  |n the file /etc/|
000033c0  6c 69 6c 6f 2e 63 6f 6e  66 2e 20 20 54 68 65 0a  |lilo.conf.  The.|
000033d0  20 20 20 6b 65 72 6e 65  6c 20 69 6d 61 67 65 20  |   kernel image |
000033e0  66 69 6c 65 20 69 73 20  75 73 75 61 6c 6c 79 20  |file is usually |
000033f0  2f 76 6d 6c 69 6e 75 7a  2c 20 2f 62 6f 6f 74 2f  |/vmlinuz, /boot/|
00003400  76 6d 6c 69 6e 75 7a 2c  20 2f 62 7a 49 6d 61 67  |vmlinuz, /bzImag|
00003410  65 20 6f 72 0a 20 20 20  2f 62 6f 6f 74 2f 62 7a  |e or.   /boot/bz|
00003420  49 6d 61 67 65 2e 20 20  54 6f 20 75 73 65 20 74  |Image.  To use t|
00003430  68 65 20 6e 65 77 20 6b  65 72 6e 65 6c 2c 20 73  |he new kernel, s|
00003440  61 76 65 20 61 20 63 6f  70 79 20 6f 66 20 74 68  |ave a copy of th|
00003450  65 20 6f 6c 64 20 69 6d  61 67 65 0a 20 20 20 61  |e old image.   a|
00003460  6e 64 20 63 6f 70 79 20  74 68 65 20 6e 65 77 20  |nd copy the new |
00003470  69 6d 61 67 65 20 6f 76  65 72 20 74 68 65 20 6f  |image over the o|
00003480  6c 64 20 6f 6e 65 2e 20  20 54 68 65 6e 2c 20 79  |ld one.  Then, y|
00003490  6f 75 20 4d 55 53 54 20  52 45 52 55 4e 20 4c 49  |ou MUST RERUN LI|
000034a0  4c 4f 0a 20 20 20 74 6f  20 75 70 64 61 74 65 20  |LO.   to update |
000034b0  74 68 65 20 6c 6f 61 64  69 6e 67 20 6d 61 70 21  |the loading map!|
000034c0  20 49 66 20 79 6f 75 20  64 6f 6e 27 74 2c 20 79  | If you don't, y|
000034d0  6f 75 20 77 6f 6e 27 74  20 62 65 20 61 62 6c 65  |ou won't be able|
000034e0  20 74 6f 20 62 6f 6f 74  0a 20 20 20 74 68 65 20  | to boot.   the |
000034f0  6e 65 77 20 6b 65 72 6e  65 6c 20 69 6d 61 67 65  |new kernel image|
00003500  2e 0a 0a 20 20 20 52 65  69 6e 73 74 61 6c 6c 69  |...   Reinstalli|
00003510  6e 67 20 4c 49 4c 4f 20  69 73 20 75 73 75 61 6c  |ng LILO is usual|
00003520  6c 79 20 61 20 6d 61 74  74 65 72 20 6f 66 20 72  |ly a matter of r|
00003530  75 6e 6e 69 6e 67 20 2f  73 62 69 6e 2f 6c 69 6c  |unning /sbin/lil|
00003540  6f 2e 0a 20 20 20 59 6f  75 20 6d 61 79 20 77 69  |o..   You may wi|
00003550  73 68 20 74 6f 20 65 64  69 74 20 2f 65 74 63 2f  |sh to edit /etc/|
00003560  6c 69 6c 6f 2e 63 6f 6e  66 20 74 6f 20 73 70 65  |lilo.conf to spe|
00003570  63 69 66 79 20 61 6e 20  65 6e 74 72 79 20 66 6f  |cify an entry fo|
00003580  72 20 79 6f 75 72 0a 20  20 20 6f 6c 64 20 6b 65  |r your.   old ke|
00003590  72 6e 65 6c 20 69 6d 61  67 65 20 28 73 61 79 2c  |rnel image (say,|
000035a0  20 2f 76 6d 6c 69 6e 75  78 2e 6f 6c 64 29 20 69  | /vmlinux.old) i|
000035b0  6e 20 63 61 73 65 20 74  68 65 20 6e 65 77 20 6f  |n case the new o|
000035c0  6e 65 20 64 6f 65 73 20  6e 6f 74 0a 20 20 20 77  |ne does not.   w|
000035d0  6f 72 6b 2e 20 20 53 65  65 20 74 68 65 20 4c 49  |ork.  See the LI|
000035e0  4c 4f 20 64 6f 63 73 20  66 6f 72 20 6d 6f 72 65  |LO docs for more|
000035f0  20 69 6e 66 6f 72 6d 61  74 69 6f 6e 2e 0a 0a 20  | information... |
00003600  20 20 41 66 74 65 72 20  72 65 69 6e 73 74 61 6c  |  After reinstal|
00003610  6c 69 6e 67 20 4c 49 4c  4f 2c 20 79 6f 75 20 73  |ling LILO, you s|
00003620  68 6f 75 6c 64 20 62 65  20 61 6c 6c 20 73 65 74  |hould be all set|
00003630  2e 20 20 53 68 75 74 64  6f 77 6e 20 74 68 65 20  |.  Shutdown the |
00003640  73 79 73 74 65 6d 2c 0a  20 20 20 72 65 62 6f 6f  |system,.   reboo|
00003650  74 2c 20 61 6e 64 20 65  6e 6a 6f 79 21 0a 0a 20  |t, and enjoy!.. |
00003660  20 20 49 66 20 79 6f 75  20 65 76 65 72 20 6e 65  |  If you ever ne|
00003670  65 64 20 74 6f 20 63 68  61 6e 67 65 20 74 68 65  |ed to change the|
00003680  20 64 65 66 61 75 6c 74  20 72 6f 6f 74 20 64 65  | default root de|
00003690  76 69 63 65 2c 20 76 69  64 65 6f 20 6d 6f 64 65  |vice, video mode|
000036a0  2c 0a 20 20 20 72 61 6d  64 69 73 6b 20 73 69 7a  |,.   ramdisk siz|
000036b0  65 2c 20 65 74 63 2e 20  20 69 6e 20 74 68 65 20  |e, etc.  in the |
000036c0  6b 65 72 6e 65 6c 20 69  6d 61 67 65 2c 20 75 73  |kernel image, us|
000036d0  65 20 74 68 65 20 27 72  64 65 76 27 20 70 72 6f  |e the 'rdev' pro|
000036e0  67 72 61 6d 20 28 6f 72  0a 20 20 20 61 6c 74 65  |gram (or.   alte|
000036f0  72 6e 61 74 69 76 65 6c  79 20 74 68 65 20 4c 49  |rnatively the LI|
00003700  4c 4f 20 62 6f 6f 74 20  6f 70 74 69 6f 6e 73 20  |LO boot options |
00003710  77 68 65 6e 20 61 70 70  72 6f 70 72 69 61 74 65  |when appropriate|
00003720  29 2e 20 20 4e 6f 20 6e  65 65 64 20 74 6f 0a 20  |).  No need to. |
00003730  20 20 72 65 63 6f 6d 70  69 6c 65 20 74 68 65 20  |  recompile the |
00003740  6b 65 72 6e 65 6c 20 74  6f 20 63 68 61 6e 67 65  |kernel to change|
00003750  20 74 68 65 73 65 20 70  61 72 61 6d 65 74 65 72  | these parameter|
00003760  73 2e 0a 0a 20 2d 20 52  65 62 6f 6f 74 20 77 69  |s... - Reboot wi|
00003770  74 68 20 74 68 65 20 6e  65 77 20 6b 65 72 6e 65  |th the new kerne|
00003780  6c 20 61 6e 64 20 65 6e  6a 6f 79 2e 0a 0a 49 46  |l and enjoy...IF|
00003790  20 53 4f 4d 45 54 48 49  4e 47 20 47 4f 45 53 20  | SOMETHING GOES |
000037a0  57 52 4f 4e 47 3a 0a 0a  20 2d 20 49 66 20 79 6f  |WRONG:.. - If yo|
000037b0  75 20 68 61 76 65 20 70  72 6f 62 6c 65 6d 73 20  |u have problems |
000037c0  74 68 61 74 20 73 65 65  6d 20 74 6f 20 62 65 20  |that seem to be |
000037d0  64 75 65 20 74 6f 20 6b  65 72 6e 65 6c 20 62 75  |due to kernel bu|
000037e0  67 73 2c 20 70 6c 65 61  73 65 20 63 68 65 63 6b  |gs, please check|
000037f0  0a 20 20 20 74 68 65 20  66 69 6c 65 20 4d 41 49  |.   the file MAI|
00003800  4e 54 41 49 4e 45 52 53  20 74 6f 20 73 65 65 20  |NTAINERS to see |
00003810  69 66 20 74 68 65 72 65  20 69 73 20 61 20 70 61  |if there is a pa|
00003820  72 74 69 63 75 6c 61 72  20 70 65 72 73 6f 6e 20  |rticular person |
00003830  61 73 73 6f 63 69 61 74  65 64 0a 20 20 20 77 69  |associated.   wi|
00003840  74 68 20 74 68 65 20 70  61 72 74 20 6f 66 20 74  |th the part of t|
00003850  68 65 20 6b 65 72 6e 65  6c 20 74 68 61 74 20 79  |he kernel that y|
00003860  6f 75 20 61 72 65 20 68  61 76 69 6e 67 20 74 72  |ou are having tr|
00003870  6f 75 62 6c 65 20 77 69  74 68 2e 20 49 66 20 74  |ouble with. If t|
00003880  68 65 72 65 0a 20 20 20  69 73 6e 27 74 20 61 6e  |here.   isn't an|
00003890  79 6f 6e 65 20 6c 69 73  74 65 64 20 74 68 65 72  |yone listed ther|
000038a0  65 2c 20 74 68 65 6e 20  74 68 65 20 73 65 63 6f  |e, then the seco|
000038b0  6e 64 20 62 65 73 74 20  74 68 69 6e 67 20 69 73  |nd best thing is|
000038c0  20 74 6f 20 6d 61 69 6c  0a 20 20 20 74 68 65 6d  | to mail.   them|
000038d0  20 74 6f 20 6d 65 20 28  74 6f 72 76 61 6c 64 73  | to me (torvalds|
000038e0  40 6c 69 6e 75 78 2d 66  6f 75 6e 64 61 74 69 6f  |@linux-foundatio|
000038f0  6e 2e 6f 72 67 29 2c 20  61 6e 64 20 70 6f 73 73  |n.org), and poss|
00003900  69 62 6c 79 20 74 6f 20  61 6e 79 20 6f 74 68 65  |ibly to any othe|
00003910  72 0a 20 20 20 72 65 6c  65 76 61 6e 74 20 6d 61  |r.   relevant ma|
00003920  69 6c 69 6e 67 2d 6c 69  73 74 20 6f 72 20 74 6f  |iling-list or to|
00003930  20 74 68 65 20 6e 65 77  73 67 72 6f 75 70 2e 0a  | the newsgroup..|
00003940  0a 20 2d 20 49 6e 20 61  6c 6c 20 62 75 67 2d 72  |. - In all bug-r|
00003950  65 70 6f 72 74 73 2c 20  2a 70 6c 65 61 73 65 2a  |eports, *please*|
00003960  20 74 65 6c 6c 20 77 68  61 74 20 6b 65 72 6e 65  | tell what kerne|
00003970  6c 20 79 6f 75 20 61 72  65 20 74 61 6c 6b 69 6e  |l you are talkin|
00003980  67 20 61 62 6f 75 74 2c  0a 20 20 20 68 6f 77 20  |g about,.   how |
00003990  74 6f 20 64 75 70 6c 69  63 61 74 65 20 74 68 65  |to duplicate the|
000039a0  20 70 72 6f 62 6c 65 6d  2c 20 61 6e 64 20 77 68  | problem, and wh|
000039b0  61 74 20 79 6f 75 72 20  73 65 74 75 70 20 69 73  |at your setup is|
000039c0  20 28 75 73 65 20 79 6f  75 72 20 63 6f 6d 6d 6f  | (use your commo|
000039d0  6e 0a 20 20 20 73 65 6e  73 65 29 2e 20 20 49 66  |n.   sense).  If|
000039e0  20 74 68 65 20 70 72 6f  62 6c 65 6d 20 69 73 20  | the problem is |
000039f0  6e 65 77 2c 20 74 65 6c  6c 20 6d 65 20 73 6f 2c  |new, tell me so,|
00003a00  20 61 6e 64 20 69 66 20  74 68 65 20 70 72 6f 62  | and if the prob|
00003a10  6c 65 6d 20 69 73 0a 20  20 20 6f 6c 64 2c 20 70  |lem is.   old, p|
00003a20  6c 65 61 73 65 20 74 72  79 20 74 6f 20 74 65 6c  |lease try to tel|
00003a30  6c 20 6d 65 20 77 68 65  6e 20 79 6f 75 20 66 69  |l me when you fi|
00003a40  72 73 74 20 6e 6f 74 69  63 65 64 20 69 74 2e 0a  |rst noticed it..|
00003a50  0a 20 2d 20 49 66 20 74  68 65 20 62 75 67 20 72  |. - If the bug r|
00003a60  65 73 75 6c 74 73 20 69  6e 20 61 20 6d 65 73 73  |esults in a mess|
00003a70  61 67 65 20 6c 69 6b 65  0a 0a 20 20 20 20 20 75  |age like..     u|
00003a80  6e 61 62 6c 65 20 74 6f  20 68 61 6e 64 6c 65 20  |nable to handle |
00003a90  6b 65 72 6e 65 6c 20 70  61 67 69 6e 67 20 72 65  |kernel paging re|
00003aa0  71 75 65 73 74 20 61 74  20 61 64 64 72 65 73 73  |quest at address|
00003ab0  20 43 30 30 30 30 30 31  30 0a 20 20 20 20 20 4f  | C0000010.     O|
00003ac0  6f 70 73 3a 20 30 30 30  32 0a 20 20 20 20 20 45  |ops: 0002.     E|
00003ad0  49 50 3a 20 20 20 30 30  31 30 3a 58 58 58 58 58  |IP:   0010:XXXXX|
00003ae0  58 58 58 0a 20 20 20 20  20 65 61 78 3a 20 78 78  |XXX.     eax: xx|
00003af0  78 78 78 78 78 78 20 20  20 65 62 78 3a 20 78 78  |xxxxxx   ebx: xx|
00003b00  78 78 78 78 78 78 20 20  20 65 63 78 3a 20 78 78  |xxxxxx   ecx: xx|
00003b10  78 78 78 78 78 78 20 20  20 65 64 78 3a 20 78 78  |xxxxxx   edx: xx|
00003b20  78 78 78 78 78 78 0a 20  20 20 20 20 65 73 69 3a  |xxxxxx.     esi:|
00003b30  20 78 78 78 78 78 78 78  78 20 20 20 65 64 69 3a  | xxxxxxxx   edi:|
00003b40  20 78 78 78 78 78 78 78  78 20 20 20 65 62 70 3a  | xxxxxxxx   ebp:|
00003b50  20 78 78 78 78 78 78 78  78 0a 20 20 20 20 20 64  | xxxxxxxx.     d|
00003b60  73 3a 20 78 78 78 78 20  20 65 73 3a 20 78 78 78  |s: xxxx  es: xxx|
00003b70  78 20 20 66 73 3a 20 78  78 78 78 20 20 67 73 3a  |x  fs: xxxx  gs:|
00003b80  20 78 78 78 78 0a 20 20  20 20 20 50 69 64 3a 20  | xxxx.     Pid: |
00003b90  78 78 2c 20 70 72 6f 63  65 73 73 20 6e 72 3a 20  |xx, process nr: |
00003ba0  78 78 0a 20 20 20 20 20  78 78 20 78 78 20 78 78  |xx.     xx xx xx|
00003bb0  20 78 78 20 78 78 20 78  78 20 78 78 20 78 78 20  | xx xx xx xx xx |
00003bc0  78 78 20 78 78 0a 0a 20  20 20 6f 72 20 73 69 6d  |xx xx..   or sim|
00003bd0  69 6c 61 72 20 6b 65 72  6e 65 6c 20 64 65 62 75  |ilar kernel debu|
00003be0  67 67 69 6e 67 20 69 6e  66 6f 72 6d 61 74 69 6f  |gging informatio|
00003bf0  6e 20 6f 6e 20 79 6f 75  72 20 73 63 72 65 65 6e  |n on your screen|
00003c00  20 6f 72 20 69 6e 20 79  6f 75 72 0a 20 20 20 73  | or in your.   s|
00003c10  79 73 74 65 6d 20 6c 6f  67 2c 20 70 6c 65 61 73  |ystem log, pleas|
00003c20  65 20 64 75 70 6c 69 63  61 74 65 20 69 74 20 2a  |e duplicate it *|
00003c30  65 78 61 63 74 6c 79 2a  2e 20 20 54 68 65 20 64  |exactly*.  The d|
00003c40  75 6d 70 20 6d 61 79 20  6c 6f 6f 6b 0a 20 20 20  |ump may look.   |
00003c50  69 6e 63 6f 6d 70 72 65  68 65 6e 73 69 62 6c 65  |incomprehensible|
00003c60  20 74 6f 20 79 6f 75 2c  20 62 75 74 20 69 74 20  | to you, but it |
00003c70  64 6f 65 73 20 63 6f 6e  74 61 69 6e 20 69 6e 66  |does contain inf|
00003c80  6f 72 6d 61 74 69 6f 6e  20 74 68 61 74 20 6d 61  |ormation that ma|
00003c90  79 0a 20 20 20 68 65 6c  70 20 64 65 62 75 67 67  |y.   help debugg|
00003ca0  69 6e 67 20 74 68 65 20  70 72 6f 62 6c 65 6d 2e  |ing the problem.|
00003cb0  20 20 54 68 65 20 74 65  78 74 20 61 62 6f 76 65  |  The text above|
00003cc0  20 74 68 65 20 64 75 6d  70 20 69 73 20 61 6c 73  | the dump is als|
00003cd0  6f 0a 20 20 20 69 6d 70  6f 72 74 61 6e 74 3a 20  |o.   important: |
00003ce0  69 74 20 74 65 6c 6c 73  20 73 6f 6d 65 74 68 69  |it tells somethi|
00003cf0  6e 67 20 61 62 6f 75 74  20 77 68 79 20 74 68 65  |ng about why the|
00003d00  20 6b 65 72 6e 65 6c 20  64 75 6d 70 65 64 20 63  | kernel dumped c|
00003d10  6f 64 65 20 28 69 6e 0a  20 20 20 74 68 65 20 61  |ode (in.   the a|
00003d20  62 6f 76 65 20 65 78 61  6d 70 6c 65 2c 20 69 74  |bove example, it|
00003d30  27 73 20 64 75 65 20 74  6f 20 61 20 62 61 64 20  |'s due to a bad |
00003d40  6b 65 72 6e 65 6c 20 70  6f 69 6e 74 65 72 29 2e  |kernel pointer).|
00003d50  20 4d 6f 72 65 20 69 6e  66 6f 72 6d 61 74 69 6f  | More informatio|
00003d60  6e 0a 20 20 20 6f 6e 20  6d 61 6b 69 6e 67 20 73  |n.   on making s|
00003d70  65 6e 73 65 20 6f 66 20  74 68 65 20 64 75 6d 70  |ense of the dump|
00003d80  20 69 73 20 69 6e 20 44  6f 63 75 6d 65 6e 74 61  | is in Documenta|
00003d90  74 69 6f 6e 2f 6f 6f 70  73 2d 74 72 61 63 69 6e  |tion/oops-tracin|
00003da0  67 2e 74 78 74 0a 0a 20  2d 20 49 66 20 79 6f 75  |g.txt.. - If you|
00003db0  20 63 6f 6d 70 69 6c 65  64 20 74 68 65 20 6b 65  | compiled the ke|
00003dc0  72 6e 65 6c 20 77 69 74  68 20 43 4f 4e 46 49 47  |rnel with CONFIG|
00003dd0  5f 4b 41 4c 4c 53 59 4d  53 20 79 6f 75 20 63 61  |_KALLSYMS you ca|
00003de0  6e 20 73 65 6e 64 20 74  68 65 20 64 75 6d 70 0a  |n send the dump.|
00003df0  20 20 20 61 73 20 69 73  2c 20 6f 74 68 65 72 77  |   as is, otherw|
00003e00  69 73 65 20 79 6f 75 20  77 69 6c 6c 20 68 61 76  |ise you will hav|
00003e10  65 20 74 6f 20 75 73 65  20 74 68 65 20 22 6b 73  |e to use the "ks|
00003e20  79 6d 6f 6f 70 73 22 20  70 72 6f 67 72 61 6d 20  |ymoops" program |
00003e30  74 6f 20 6d 61 6b 65 0a  20 20 20 73 65 6e 73 65  |to make.   sense|
00003e40  20 6f 66 20 74 68 65 20  64 75 6d 70 20 28 62 75  | of the dump (bu|
00003e50  74 20 63 6f 6d 70 69 6c  69 6e 67 20 77 69 74 68  |t compiling with|
00003e60  20 43 4f 4e 46 49 47 5f  4b 41 4c 4c 53 59 4d 53  | CONFIG_KALLSYMS|
00003e70  20 69 73 20 75 73 75 61  6c 6c 79 20 70 72 65 66  | is usually pref|
00003e80  65 72 72 65 64 29 2e 0a  20 20 20 54 68 69 73 20  |erred)..   This |
00003e90  75 74 69 6c 69 74 79 20  63 61 6e 20 62 65 20 64  |utility can be d|
00003ea0  6f 77 6e 6c 6f 61 64 65  64 20 66 72 6f 6d 0a 20  |ownloaded from. |
00003eb0  20 20 66 74 70 3a 2f 2f  66 74 70 2e 3c 63 6f 75  |  ftp://ftp.<cou|
00003ec0  6e 74 72 79 3e 2e 6b 65  72 6e 65 6c 2e 6f 72 67  |ntry>.kernel.org|
00003ed0  2f 70 75 62 2f 6c 69 6e  75 78 2f 75 74 69 6c 73  |/pub/linux/utils|
00003ee0  2f 6b 65 72 6e 65 6c 2f  6b 73 79 6d 6f 6f 70 73  |/kernel/ksymoops|
00003ef0  2f 20 2e 0a 20 20 20 41  6c 74 65 72 6e 61 74 69  |/ ..   Alternati|
00003f00  76 65 6c 79 2c 20 79 6f  75 20 63 61 6e 20 64 6f  |vely, you can do|
00003f10  20 74 68 65 20 64 75 6d  70 20 6c 6f 6f 6b 75 70  | the dump lookup|
00003f20  20 62 79 20 68 61 6e 64  3a 0a 0a 20 2d 20 49 6e  | by hand:.. - In|
00003f30  20 64 65 62 75 67 67 69  6e 67 20 64 75 6d 70 73  | debugging dumps|
00003f40  20 6c 69 6b 65 20 74 68  65 20 61 62 6f 76 65 2c  | like the above,|
00003f50  20 69 74 20 68 65 6c 70  73 20 65 6e 6f 72 6d 6f  | it helps enormo|
00003f60  75 73 6c 79 20 69 66 20  79 6f 75 20 63 61 6e 0a  |usly if you can.|
00003f70  20 20 20 6c 6f 6f 6b 20  75 70 20 77 68 61 74 20  |   look up what |
00003f80  74 68 65 20 45 49 50 20  76 61 6c 75 65 20 6d 65  |the EIP value me|
00003f90  61 6e 73 2e 20 20 54 68  65 20 68 65 78 20 76 61  |ans.  The hex va|
00003fa0  6c 75 65 20 61 73 20 73  75 63 68 20 64 6f 65 73  |lue as such does|
00003fb0  6e 27 74 20 68 65 6c 70  0a 20 20 20 6d 65 20 6f  |n't help.   me o|
00003fc0  72 20 61 6e 79 62 6f 64  79 20 65 6c 73 65 20 76  |r anybody else v|
00003fd0  65 72 79 20 6d 75 63 68  3a 20 69 74 20 77 69 6c  |ery much: it wil|
00003fe0  6c 20 64 65 70 65 6e 64  20 6f 6e 20 79 6f 75 72  |l depend on your|
00003ff0  20 70 61 72 74 69 63 75  6c 61 72 0a 20 20 20 6b  | particular.   k|
00004000  65 72 6e 65 6c 20 73 65  74 75 70 2e 20 20 57 68  |ernel setup.  Wh|
00004010  61 74 20 79 6f 75 20 73  68 6f 75 6c 64 20 64 6f  |at you should do|
00004020  20 69 73 20 74 61 6b 65  20 74 68 65 20 68 65 78  | is take the hex|
00004030  20 76 61 6c 75 65 20 66  72 6f 6d 20 74 68 65 20  | value from the |
00004040  45 49 50 0a 20 20 20 6c  69 6e 65 20 28 69 67 6e  |EIP.   line (ign|
00004050  6f 72 65 20 74 68 65 20  22 30 30 31 30 3a 22 29  |ore the "0010:")|
00004060  2c 20 61 6e 64 20 6c 6f  6f 6b 20 69 74 20 75 70  |, and look it up|
00004070  20 69 6e 20 74 68 65 20  6b 65 72 6e 65 6c 20 6e  | in the kernel n|
00004080  61 6d 65 6c 69 73 74 20  74 6f 0a 20 20 20 73 65  |amelist to.   se|
00004090  65 20 77 68 69 63 68 20  6b 65 72 6e 65 6c 20 66  |e which kernel f|
000040a0  75 6e 63 74 69 6f 6e 20  63 6f 6e 74 61 69 6e 73  |unction contains|
000040b0  20 74 68 65 20 6f 66 66  65 6e 64 69 6e 67 20 61  | the offending a|
000040c0  64 64 72 65 73 73 2e 0a  0a 20 20 20 54 6f 20 66  |ddress...   To f|
000040d0  69 6e 64 20 6f 75 74 20  74 68 65 20 6b 65 72 6e  |ind out the kern|
000040e0  65 6c 20 66 75 6e 63 74  69 6f 6e 20 6e 61 6d 65  |el function name|
000040f0  2c 20 79 6f 75 27 6c 6c  20 6e 65 65 64 20 74 6f  |, you'll need to|
00004100  20 66 69 6e 64 20 74 68  65 20 73 79 73 74 65 6d  | find the system|
00004110  0a 20 20 20 62 69 6e 61  72 79 20 61 73 73 6f 63  |.   binary assoc|
00004120  69 61 74 65 64 20 77 69  74 68 20 74 68 65 20 6b  |iated with the k|
00004130  65 72 6e 65 6c 20 74 68  61 74 20 65 78 68 69 62  |ernel that exhib|
00004140  69 74 65 64 20 74 68 65  20 73 79 6d 70 74 6f 6d  |ited the symptom|
00004150  2e 20 20 54 68 69 73 20  69 73 0a 20 20 20 74 68  |.  This is.   th|
00004160  65 20 66 69 6c 65 20 27  6c 69 6e 75 78 2f 76 6d  |e file 'linux/vm|
00004170  6c 69 6e 75 78 27 2e 20  20 54 6f 20 65 78 74 72  |linux'.  To extr|
00004180  61 63 74 20 74 68 65 20  6e 61 6d 65 6c 69 73 74  |act the namelist|
00004190  20 61 6e 64 20 6d 61 74  63 68 20 69 74 20 61 67  | and match it ag|
000041a0  61 69 6e 73 74 0a 20 20  20 74 68 65 20 45 49 50  |ainst.   the EIP|
000041b0  20 66 72 6f 6d 20 74 68  65 20 6b 65 72 6e 65 6c  | from the kernel|
000041c0  20 63 72 61 73 68 2c 20  64 6f 3a 0a 0a 20 20 20  | crash, do:..   |
000041d0  20 20 6e 6d 20 76 6d 6c  69 6e 75 78 20 7c 20 73  |  nm vmlinux | s|
000041e0  6f 72 74 20 7c 20 6c 65  73 73 0a 0a 20 20 20 54  |ort | less..   T|
000041f0  68 69 73 20 77 69 6c 6c  20 67 69 76 65 20 79 6f  |his will give yo|
00004200  75 20 61 20 6c 69 73 74  20 6f 66 20 6b 65 72 6e  |u a list of kern|
00004210  65 6c 20 61 64 64 72 65  73 73 65 73 20 73 6f 72  |el addresses sor|
00004220  74 65 64 20 69 6e 20 61  73 63 65 6e 64 69 6e 67  |ted in ascending|
00004230  0a 20 20 20 6f 72 64 65  72 2c 20 66 72 6f 6d 20  |.   order, from |
00004240  77 68 69 63 68 20 69 74  20 69 73 20 73 69 6d 70  |which it is simp|
00004250  6c 65 20 74 6f 20 66 69  6e 64 20 74 68 65 20 66  |le to find the f|
00004260  75 6e 63 74 69 6f 6e 20  74 68 61 74 20 63 6f 6e  |unction that con|
00004270  74 61 69 6e 73 20 74 68  65 0a 20 20 20 6f 66 66  |tains the.   off|
00004280  65 6e 64 69 6e 67 20 61  64 64 72 65 73 73 2e 20  |ending address. |
00004290  20 4e 6f 74 65 20 74 68  61 74 20 74 68 65 20 61  | Note that the a|
000042a0  64 64 72 65 73 73 20 67  69 76 65 6e 20 62 79 20  |ddress given by |
000042b0  74 68 65 20 6b 65 72 6e  65 6c 0a 20 20 20 64 65  |the kernel.   de|
000042c0  62 75 67 67 69 6e 67 20  6d 65 73 73 61 67 65 73  |bugging messages|
000042d0  20 77 69 6c 6c 20 6e 6f  74 20 6e 65 63 65 73 73  | will not necess|
000042e0  61 72 69 6c 79 20 6d 61  74 63 68 20 65 78 61 63  |arily match exac|
000042f0  74 6c 79 20 77 69 74 68  20 74 68 65 0a 20 20 20  |tly with the.   |
00004300  66 75 6e 63 74 69 6f 6e  20 61 64 64 72 65 73 73  |function address|
00004310  65 73 20 28 69 6e 20 66  61 63 74 2c 20 74 68 61  |es (in fact, tha|
00004320  74 20 69 73 20 76 65 72  79 20 75 6e 6c 69 6b 65  |t is very unlike|
00004330  6c 79 29 2c 20 73 6f 20  79 6f 75 20 63 61 6e 27  |ly), so you can'|
00004340  74 0a 20 20 20 6a 75 73  74 20 27 67 72 65 70 27  |t.   just 'grep'|
00004350  20 74 68 65 20 6c 69 73  74 3a 20 74 68 65 20 6c  | the list: the l|
00004360  69 73 74 20 77 69 6c 6c  2c 20 68 6f 77 65 76 65  |ist will, howeve|
00004370  72 2c 20 67 69 76 65 20  79 6f 75 20 74 68 65 20  |r, give you the |
00004380  73 74 61 72 74 69 6e 67  0a 20 20 20 70 6f 69 6e  |starting.   poin|
00004390  74 20 6f 66 20 65 61 63  68 20 6b 65 72 6e 65 6c  |t of each kernel|
000043a0  20 66 75 6e 63 74 69 6f  6e 2c 20 73 6f 20 62 79  | function, so by|
000043b0  20 6c 6f 6f 6b 69 6e 67  20 66 6f 72 20 74 68 65  | looking for the|
000043c0  20 66 75 6e 63 74 69 6f  6e 20 74 68 61 74 0a 20  | function that. |
000043d0  20 20 68 61 73 20 61 20  73 74 61 72 74 69 6e 67  |  has a starting|
000043e0  20 61 64 64 72 65 73 73  20 6c 6f 77 65 72 20 74  | address lower t|
000043f0  68 61 6e 20 74 68 65 20  6f 6e 65 20 79 6f 75 20  |han the one you |
00004400  61 72 65 20 73 65 61 72  63 68 69 6e 67 20 66 6f  |are searching fo|
00004410  72 20 62 75 74 0a 20 20  20 69 73 20 66 6f 6c 6c  |r but.   is foll|
00004420  6f 77 65 64 20 62 79 20  61 20 66 75 6e 63 74 69  |owed by a functi|
00004430  6f 6e 20 77 69 74 68 20  61 20 68 69 67 68 65 72  |on with a higher|
00004440  20 61 64 64 72 65 73 73  20 79 6f 75 20 77 69 6c  | address you wil|
00004450  6c 20 66 69 6e 64 20 74  68 65 20 6f 6e 65 0a 20  |l find the one. |
00004460  20 20 79 6f 75 20 77 61  6e 74 2e 20 20 49 6e 20  |  you want.  In |
00004470  66 61 63 74 2c 20 69 74  20 6d 61 79 20 62 65 20  |fact, it may be |
00004480  61 20 67 6f 6f 64 20 69  64 65 61 20 74 6f 20 69  |a good idea to i|
00004490  6e 63 6c 75 64 65 20 61  20 62 69 74 20 6f 66 0a  |nclude a bit of.|
000044a0  20 20 20 22 63 6f 6e 74  65 78 74 22 20 69 6e 20  |   "context" in |
000044b0  79 6f 75 72 20 70 72 6f  62 6c 65 6d 20 72 65 70  |your problem rep|
000044c0  6f 72 74 2c 20 67 69 76  69 6e 67 20 61 20 66 65  |ort, giving a fe|
000044d0  77 20 6c 69 6e 65 73 20  61 72 6f 75 6e 64 20 74  |w lines around t|
000044e0  68 65 0a 20 20 20 69 6e  74 65 72 65 73 74 69 6e  |he.   interestin|
000044f0  67 20 6f 6e 65 2e 0a 0a  20 20 20 49 66 20 79 6f  |g one...   If yo|
00004500  75 20 66 6f 72 20 73 6f  6d 65 20 72 65 61 73 6f  |u for some reaso|
00004510  6e 20 63 61 6e 6e 6f 74  20 64 6f 20 74 68 65 20  |n cannot do the |
00004520  61 62 6f 76 65 20 28 79  6f 75 20 68 61 76 65 20  |above (you have |
00004530  61 20 70 72 65 2d 63 6f  6d 70 69 6c 65 64 0a 20  |a pre-compiled. |
00004540  20 20 6b 65 72 6e 65 6c  20 69 6d 61 67 65 20 6f  |  kernel image o|
00004550  72 20 73 69 6d 69 6c 61  72 29 2c 20 74 65 6c 6c  |r similar), tell|
00004560  69 6e 67 20 6d 65 20 61  73 20 6d 75 63 68 20 61  |ing me as much a|
00004570  62 6f 75 74 20 79 6f 75  72 20 73 65 74 75 70 20  |bout your setup |
00004580  61 73 0a 20 20 20 70 6f  73 73 69 62 6c 65 20 77  |as.   possible w|
00004590  69 6c 6c 20 68 65 6c 70  2e 20 20 50 6c 65 61 73  |ill help.  Pleas|
000045a0  65 20 72 65 61 64 20 74  68 65 20 52 45 50 4f 52  |e read the REPOR|
000045b0  54 49 4e 47 2d 42 55 47  53 20 64 6f 63 75 6d 65  |TING-BUGS docume|
000045c0  6e 74 20 66 6f 72 20 64  65 74 61 69 6c 73 2e 0a  |nt for details..|
000045d0  0a 20 2d 20 41 6c 74 65  72 6e 61 74 69 76 65 6c  |. - Alternativel|
000045e0  79 2c 20 79 6f 75 20 63  61 6e 20 75 73 65 20 67  |y, you can use g|
000045f0  64 62 20 6f 6e 20 61 20  72 75 6e 6e 69 6e 67 20  |db on a running |
00004600  6b 65 72 6e 65 6c 2e 20  28 72 65 61 64 2d 6f 6e  |kernel. (read-on|
00004610  6c 79 3b 20 69 2e 65 2e  20 79 6f 75 0a 20 20 20  |ly; i.e. you.   |
00004620  63 61 6e 6e 6f 74 20 63  68 61 6e 67 65 20 76 61  |cannot change va|
00004630  6c 75 65 73 20 6f 72 20  73 65 74 20 62 72 65 61  |lues or set brea|
00004640  6b 20 70 6f 69 6e 74 73  2e 29 20 54 6f 20 64 6f  |k points.) To do|
00004650  20 74 68 69 73 2c 20 66  69 72 73 74 20 63 6f 6d  | this, first com|
00004660  70 69 6c 65 20 74 68 65  0a 20 20 20 6b 65 72 6e  |pile the.   kern|
00004670  65 6c 20 77 69 74 68 20  2d 67 3b 20 65 64 69 74  |el with -g; edit|
00004680  20 61 72 63 68 2f 69 33  38 36 2f 4d 61 6b 65 66  | arch/i386/Makef|
00004690  69 6c 65 20 61 70 70 72  6f 70 72 69 61 74 65 6c  |ile appropriatel|
000046a0  79 2c 20 74 68 65 6e 20  64 6f 20 61 20 22 6d 61  |y, then do a "ma|
000046b0  6b 65 0a 20 20 20 63 6c  65 61 6e 22 2e 20 59 6f  |ke.   clean". Yo|
000046c0  75 27 6c 6c 20 61 6c 73  6f 20 6e 65 65 64 20 74  |u'll also need t|
000046d0  6f 20 65 6e 61 62 6c 65  20 43 4f 4e 46 49 47 5f  |o enable CONFIG_|
000046e0  50 52 4f 43 5f 46 53 20  28 76 69 61 20 22 6d 61  |PROC_FS (via "ma|
000046f0  6b 65 20 63 6f 6e 66 69  67 22 29 2e 0a 0a 20 20  |ke config")...  |
00004700  20 41 66 74 65 72 20 79  6f 75 27 76 65 20 72 65  | After you've re|
00004710  62 6f 6f 74 65 64 20 77  69 74 68 20 74 68 65 20  |booted with the |
00004720  6e 65 77 20 6b 65 72 6e  65 6c 2c 20 64 6f 20 22  |new kernel, do "|
00004730  67 64 62 20 76 6d 6c 69  6e 75 78 20 2f 70 72 6f  |gdb vmlinux /pro|
00004740  63 2f 6b 63 6f 72 65 22  2e 0a 20 20 20 59 6f 75  |c/kcore"..   You|
00004750  20 63 61 6e 20 6e 6f 77  20 75 73 65 20 61 6c 6c  | can now use all|
00004760  20 74 68 65 20 75 73 75  61 6c 20 67 64 62 20 63  | the usual gdb c|
00004770  6f 6d 6d 61 6e 64 73 2e  20 54 68 65 20 63 6f 6d  |ommands. The com|
00004780  6d 61 6e 64 20 74 6f 20  6c 6f 6f 6b 20 75 70 20  |mand to look up |
00004790  74 68 65 0a 20 20 20 70  6f 69 6e 74 20 77 68 65  |the.   point whe|
000047a0  72 65 20 79 6f 75 72 20  73 79 73 74 65 6d 20 63  |re your system c|
000047b0  72 61 73 68 65 64 20 69  73 20 22 6c 20 2a 30 78  |rashed is "l *0x|
000047c0  58 58 58 58 58 58 58 58  22 2e 20 28 52 65 70 6c  |XXXXXXXX". (Repl|
000047d0  61 63 65 20 74 68 65 20  58 58 58 65 73 0a 20 20  |ace the XXXes.  |
000047e0  20 77 69 74 68 20 74 68  65 20 45 49 50 20 76 61  | with the EIP va|
000047f0  6c 75 65 2e 29 0a 0a 20  20 20 67 64 62 27 69 6e  |lue.)..   gdb'in|
00004800  67 20 61 20 6e 6f 6e 2d  72 75 6e 6e 69 6e 67 20  |g a non-running |
00004810  6b 65 72 6e 65 6c 20 63  75 72 72 65 6e 74 6c 79  |kernel currently|
00004820  20 66 61 69 6c 73 20 62  65 63 61 75 73 65 20 67  | fails because g|
00004830  64 62 20 28 77 72 6f 6e  67 6c 79 29 0a 20 20 20  |db (wrongly).   |
00004840  64 69 73 72 65 67 61 72  64 73 20 74 68 65 20 73  |disregards the s|
00004850  74 61 72 74 69 6e 67 20  6f 66 66 73 65 74 20 66  |tarting offset f|
00004860  6f 72 20 77 68 69 63 68  20 74 68 65 20 6b 65 72  |or which the ker|
00004870  6e 65 6c 20 69 73 20 63  6f 6d 70 69 6c 65 64 2e  |nel is compiled.|
00004880  0a 0a                                             |..              |
